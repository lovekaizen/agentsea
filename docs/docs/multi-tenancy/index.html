<!doctype html>
<!--BR2GXXFimfBinRJoMr3YY-->
<html lang="en" data-theme="cmyk">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="preload"
      href="/_next/static/media/e4af272ccee01ff0-s.p.woff2"
      as="font"
      crossorigin=""
      type="font/woff2"
    />
    <link
      rel="stylesheet"
      href="/_next/static/css/7e7d96b1e6991756.css"
      data-precedence="next"
    />
    <link
      rel="stylesheet"
      href="/_next/static/css/1145ad3a91ffb5c9.css"
      data-precedence="next"
    />
    <link
      rel="stylesheet"
      href="/_next/static/css/7a622664f4c377b7.css"
      data-precedence="next"
    />
    <link
      rel="preload"
      as="script"
      fetchpriority="low"
      href="/_next/static/chunks/webpack-1b7e2f9af6e0232d.js"
    />
    <script
      src="/_next/static/chunks/4bd1b696-c023c6e3521b1417.js"
      async=""
    ></script>
    <script
      src="/_next/static/chunks/255-0fb808ac7cfa018d.js"
      async=""
    ></script>
    <script
      src="/_next/static/chunks/main-app-55a8534c92ac85d5.js"
      async=""
    ></script>
    <script
      src="/_next/static/chunks/619-ba102abea3e3d0e4.js"
      async=""
    ></script>
    <script
      src="/_next/static/chunks/543-a0960cd7f2b1c22c.js"
      async=""
    ></script>
    <script
      src="/_next/static/chunks/app/layout-b0f860a3d9150669.js"
      async=""
    ></script>
    <script
      src="/_next/static/chunks/501-26489c9c153fdafc.js"
      async=""
    ></script>
    <script
      src="/_next/static/chunks/app/docs/multi-tenancy/page-1661e6a98b49e8b6.js"
      async=""
    ></script>
    <meta name="next-size-adjust" content="" />
    <title>AgentSea - Unite and Orchestrate AI Agents</title>
    <meta
      name="description"
      content="Build powerful agentic AI applications with AgentSea. Unite AI agents and services with multi-provider support, workflow orchestration, MCP protocol, and enterprise-grade observability."
    />
    <script
      src="/_next/static/chunks/polyfills-42372ed130431b0a.js"
      nomodule=""
    ></script>
  </head>
  <body class="__className_f367f3">
    <div hidden=""><!--$--><!--/$--></div>
    <div class="drawer lg:drawer-open">
      <input id="main-drawer" type="checkbox" class="drawer-toggle" />
      <div class="drawer-content flex flex-col">
        <div class="navbar">
          <div class="flex-none lg:hidden">
            <label for="main-drawer" class="btn btn-square btn-ghost"
              ><svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                class="inline-block w-6 h-6 stroke-current"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4 6h16M4 12h16M4 18h16"
                ></path></svg
            ></label>
          </div>
          <div class="flex-1">
            <a class="btn btn-ghost px-0 py-6" href="/"
              ><img
                alt="AgentSea Logo"
                loading="lazy"
                width="217"
                height="60"
                decoding="async"
                data-nimg="1"
                style="color: transparent"
                src="/agentsea-sdk-logo.svg"
            /></a>
          </div>
          <div class="flex-none">
            <a
              href="https://github.com/lovekaizen/agentsea"
              target="_blank"
              rel="noopener noreferrer"
              class="btn btn-ghost btn-circle"
              title="AgentSea on Github"
              ><svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"
                ></path></svg
            ></a>
          </div>
        </div>
        <main class="flex-1">
          <div class="min-h-screen bg-base-100">
            <div class="container mx-auto px-6 py-12 max-w-5xl">
              <div class="mb-12">
                <h1 class="text-5xl font-bold mb-4">Multi-Tenancy Support</h1>
                <p class="text-xl text-base-content/70">
                  AgentSea provides enterprise-grade multi-tenancy support,
                  enabling you to serve multiple customers with isolated data,
                  quotas, and configurations.
                </p>
              </div>
              <div class="prose max-w-none">
                <div
                  class="bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8"
                >
                  <h3 class="text-lg font-semibold mb-2">üÜï Latest Feature</h3>
                  <p class="mb-0">
                    Multi-tenancy support was added in v0.1.0, providing
                    production-ready tenant isolation, API key authentication,
                    and quota management.
                  </p>
                </div>
                <h2 class="text-2xl font-bold mt-12 mb-4">Overview</h2>
                <p>The multi-tenancy system provides:</p>
                <ul>
                  <li>
                    <strong>Tenant Isolation:</strong> Complete data separation
                    between tenants
                  </li>
                  <li>
                    <strong>API Key Authentication:</strong> Secure
                    SHA256-hashed API keys per tenant
                  </li>
                  <li>
                    <strong>Quota Management:</strong> Track and enforce usage
                    limits across hourly, daily, and monthly periods
                  </li>
                  <li>
                    <strong>Settings Management:</strong> Per-tenant
                    configuration for agents, conversations, rate limits, and
                    more
                  </li>
                  <li>
                    <strong>Status Control:</strong> Activate, suspend, or
                    deactivate tenants dynamically
                  </li>
                  <li>
                    <strong>Memory Isolation:</strong> Tenant-scoped
                    conversation history and memory stores
                  </li>
                </ul>
                <h2 class="text-2xl font-bold mt-12 mb-4">Tenant Manager</h2>
                <p>
                  The <code>TenantManager</code> class provides complete
                  lifecycle management for tenants.
                </p>
                <h3 class="text-xl font-semibold mt-8 mb-4">
                  Creating a Tenant
                </h3>
                <div
                  class="my-6 rounded-lg overflow-hidden shadow-lg bg-gray-900 border border-base-300 relative group"
                >
                  <div
                    class="flex items-center justify-between bg-base-300 px-4 py-2 border-b border-base-content/10"
                  >
                    <span
                      class="text-xs font-semibold text-base-content/60 uppercase"
                      >typescript</span
                    ><button
                      class="btn btn-xs btn-ghost gap-1 opacity-70 hover:opacity-100 transition-opacity"
                      title="Copy to clipboard"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                        ></path></svg
                      ><span>Copy</span>
                    </button>
                  </div>
                  <div class="overflow-x-auto">
                    <pre
                      style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:0;overflow:auto;border-radius:0.3em;background:transparent;font-size:0.875rem"
                    ><code style="white-space:pre;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace"><span class="token" style="color:#96CBFE">import</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> TenantManager</span><span class="token" style="color:#c5c8c6">,</span><span> MemoryTenantStorage </span><span class="token" style="color:#c5c8c6">}</span><span> </span><span class="token" style="color:#96CBFE">from</span><span> </span><span class="token" style="color:#A8FF60">&#x27;@lov3kaizen/agentsea-core&#x27;</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#96CBFE">const</span><span> storage </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">MemoryTenantStorage</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> tenantManager </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">TenantManager</span><span class="token" style="color:#c5c8c6">(</span><span>storage</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Create a new tenant</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> tenant </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">await</span><span> tenantManager</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">createTenant</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  name</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;Acme Corporation&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  slug</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;acme-corp&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  metadata</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    industry</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;Technology&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    plan</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;enterprise&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  settings</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    maxAgents</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#FF73FD">50</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    maxConversations</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#FF73FD">1000</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    rateLimit</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> requestsPerMinute</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#FF73FD">100</span><span> </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    dataRetentionDays</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#FF73FD">90</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    allowedProviders</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#c5c8c6">[</span><span class="token" style="color:#A8FF60">&#x27;anthropic&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#A8FF60">&#x27;openai&#x27;</span><span class="token" style="color:#c5c8c6">]</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#A8FF60">console</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">log</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;Tenant created:&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> tenant</span><span class="token" style="color:#c5c8c6">.</span><span>id</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span></code></pre>
                  </div>
                </div>
                <h3 class="text-xl font-semibold mt-8 mb-4">
                  Generating API Keys
                </h3>
                <p>
                  Each tenant can have one or more API keys with scoped
                  permissions and expiration dates.
                </p>
                <div
                  class="my-6 rounded-lg overflow-hidden shadow-lg bg-gray-900 border border-base-300 relative group"
                >
                  <div
                    class="flex items-center justify-between bg-base-300 px-4 py-2 border-b border-base-content/10"
                  >
                    <span
                      class="text-xs font-semibold text-base-content/60 uppercase"
                      >typescript</span
                    ><button
                      class="btn btn-xs btn-ghost gap-1 opacity-70 hover:opacity-100 transition-opacity"
                      title="Copy to clipboard"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                        ></path></svg
                      ><span>Copy</span>
                    </button>
                  </div>
                  <div class="overflow-x-auto">
                    <pre
                      style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:0;overflow:auto;border-radius:0.3em;background:transparent;font-size:0.875rem"
                    ><code style="white-space:pre;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace"><span class="token" style="color:#7C7C7C">// Generate a new API key for the tenant</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> apiKey </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">await</span><span> tenantManager</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">generateApiKey</span><span class="token" style="color:#c5c8c6">(</span><span>tenant</span><span class="token" style="color:#c5c8c6">.</span><span>id</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  scopes</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#c5c8c6">[</span><span class="token" style="color:#A8FF60">&#x27;agents:read&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#A8FF60">&#x27;agents:write&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#A8FF60">&#x27;conversations:read&#x27;</span><span class="token" style="color:#c5c8c6">]</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  expiresAt</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">Date</span><span class="token" style="color:#c5c8c6">(</span><span>Date</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">now</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token" style="color:#EDEDED">+</span><span> </span><span class="token" style="color:#FF73FD">365</span><span> </span><span class="token" style="color:#EDEDED">*</span><span> </span><span class="token" style="color:#FF73FD">24</span><span> </span><span class="token" style="color:#EDEDED">*</span><span> </span><span class="token" style="color:#FF73FD">60</span><span> </span><span class="token" style="color:#EDEDED">*</span><span> </span><span class="token" style="color:#FF73FD">60</span><span> </span><span class="token" style="color:#EDEDED">*</span><span> </span><span class="token" style="color:#FF73FD">1000</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#7C7C7C">// 1 year</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#A8FF60">console</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">log</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;API Key:&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> apiKey</span><span class="token" style="color:#c5c8c6">.</span><span>key</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span> </span><span class="token" style="color:#7C7C7C">// Save this - it won&#x27;t be shown again!</span><span>
</span><span></span><span class="token" style="color:#A8FF60">console</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">log</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;Key ID:&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> apiKey</span><span class="token" style="color:#c5c8c6">.</span><span>id</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Verify an API key</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> verified </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">await</span><span> tenantManager</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">verifyApiKey</span><span class="token" style="color:#c5c8c6">(</span><span>apiKey</span><span class="token" style="color:#c5c8c6">.</span><span>key</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span></span><span class="token" style="color:#96CBFE">if</span><span> </span><span class="token" style="color:#c5c8c6">(</span><span>verified</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  </span><span class="token" style="color:#A8FF60">console</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">log</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;Valid API key for tenant:&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> verified</span><span class="token" style="color:#c5c8c6">.</span><span>tenantId</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span></code></pre>
                  </div>
                </div>
                <div
                  class="bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-8"
                >
                  <h3 class="text-lg font-semibold mb-2">‚ö†Ô∏è Security Note</h3>
                  <p class="mb-0">
                    API keys are hashed using SHA256 before storage. The
                    plaintext key is only available during generation. Store it
                    securely!
                  </p>
                </div>
                <h2 class="text-2xl font-bold mt-12 mb-4">
                  Tenant Configuration
                </h2>
                <h3 class="text-xl font-semibold mt-8 mb-4">Tenant Settings</h3>
                <p>
                  Each tenant has customizable settings that control resource
                  limits and behavior:
                </p>
                <div class="overflow-x-auto mb-6">
                  <table class="min-w-full bg-white border border-gray-200">
                    <thead>
                      <tr class="bg-gray-50">
                        <th
                          class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"
                        >
                          Setting
                        </th>
                        <th
                          class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"
                        >
                          Type
                        </th>
                        <th
                          class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"
                        >
                          Description
                        </th>
                      </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-200">
                      <tr>
                        <td class="px-6 py-4 text-sm text-gray-900">
                          maxAgents
                        </td>
                        <td class="px-6 py-4 text-sm text-gray-600">number</td>
                        <td class="px-6 py-4 text-sm text-gray-600">
                          Maximum number of agents allowed
                        </td>
                      </tr>
                      <tr>
                        <td class="px-6 py-4 text-sm text-gray-900">
                          maxConversations
                        </td>
                        <td class="px-6 py-4 text-sm text-gray-600">number</td>
                        <td class="px-6 py-4 text-sm text-gray-600">
                          Maximum concurrent conversations
                        </td>
                      </tr>
                      <tr>
                        <td class="px-6 py-4 text-sm text-gray-900">
                          rateLimit
                        </td>
                        <td class="px-6 py-4 text-sm text-gray-600">object</td>
                        <td class="px-6 py-4 text-sm text-gray-600">
                          Requests per minute limit
                        </td>
                      </tr>
                      <tr>
                        <td class="px-6 py-4 text-sm text-gray-900">
                          dataRetentionDays
                        </td>
                        <td class="px-6 py-4 text-sm text-gray-600">number</td>
                        <td class="px-6 py-4 text-sm text-gray-600">
                          How long to retain conversation data
                        </td>
                      </tr>
                      <tr>
                        <td class="px-6 py-4 text-sm text-gray-900">
                          allowedProviders
                        </td>
                        <td class="px-6 py-4 text-sm text-gray-600">
                          string[]
                        </td>
                        <td class="px-6 py-4 text-sm text-gray-600">
                          Permitted LLM providers
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <h3 class="text-xl font-semibold mt-8 mb-4">Tenant Status</h3>
                <p>Tenants can have one of three statuses:</p>
                <ul>
                  <li>
                    <strong>ACTIVE:</strong> Fully operational, can use all
                    features
                  </li>
                  <li>
                    <strong>SUSPENDED:</strong> Temporarily disabled, typically
                    for non-payment or policy violations
                  </li>
                  <li>
                    <strong>INACTIVE:</strong> Permanently disabled, retains
                    data but no access
                  </li>
                </ul>
                <div
                  class="my-6 rounded-lg overflow-hidden shadow-lg bg-gray-900 border border-base-300 relative group"
                >
                  <div
                    class="flex items-center justify-between bg-base-300 px-4 py-2 border-b border-base-content/10"
                  >
                    <span
                      class="text-xs font-semibold text-base-content/60 uppercase"
                      >typescript</span
                    ><button
                      class="btn btn-xs btn-ghost gap-1 opacity-70 hover:opacity-100 transition-opacity"
                      title="Copy to clipboard"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                        ></path></svg
                      ><span>Copy</span>
                    </button>
                  </div>
                  <div class="overflow-x-auto">
                    <pre
                      style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:0;overflow:auto;border-radius:0.3em;background:transparent;font-size:0.875rem"
                    ><code style="white-space:pre;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace"><span class="token" style="color:#7C7C7C">// Suspend a tenant</span><span>
</span><span></span><span class="token" style="color:#96CBFE">await</span><span> tenantManager</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">updateTenant</span><span class="token" style="color:#c5c8c6">(</span><span>tenant</span><span class="token" style="color:#c5c8c6">.</span><span>id</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  status</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;SUSPENDED&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Reactivate a tenant</span><span>
</span><span></span><span class="token" style="color:#96CBFE">await</span><span> tenantManager</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">updateTenant</span><span class="token" style="color:#c5c8c6">(</span><span>tenant</span><span class="token" style="color:#c5c8c6">.</span><span>id</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  status</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;ACTIVE&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span></code></pre>
                  </div>
                </div>
                <h2 class="text-2xl font-bold mt-12 mb-4">Quota Management</h2>
                <p>
                  Track and enforce usage quotas across different time periods.
                </p>
                <h3 class="text-xl font-semibold mt-8 mb-4">Recording Usage</h3>
                <div
                  class="my-6 rounded-lg overflow-hidden shadow-lg bg-gray-900 border border-base-300 relative group"
                >
                  <div
                    class="flex items-center justify-between bg-base-300 px-4 py-2 border-b border-base-content/10"
                  >
                    <span
                      class="text-xs font-semibold text-base-content/60 uppercase"
                      >typescript</span
                    ><button
                      class="btn btn-xs btn-ghost gap-1 opacity-70 hover:opacity-100 transition-opacity"
                      title="Copy to clipboard"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                        ></path></svg
                      ><span>Copy</span>
                    </button>
                  </div>
                  <div class="overflow-x-auto">
                    <pre
                      style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:0;overflow:auto;border-radius:0.3em;background:transparent;font-size:0.875rem"
                    ><code style="white-space:pre;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace"><span class="token" style="color:#7C7C7C">// Record API usage</span><span>
</span><span></span><span class="token" style="color:#96CBFE">await</span><span> tenantManager</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">recordQuotaUsage</span><span class="token" style="color:#c5c8c6">(</span><span>tenant</span><span class="token" style="color:#c5c8c6">.</span><span>id</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  resource</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;api_calls&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  amount</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#FF73FD">1</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  period</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;hourly&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Record token usage</span><span>
</span><span></span><span class="token" style="color:#96CBFE">await</span><span> tenantManager</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">recordQuotaUsage</span><span class="token" style="color:#c5c8c6">(</span><span>tenant</span><span class="token" style="color:#c5c8c6">.</span><span>id</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  resource</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;tokens&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  amount</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#FF73FD">5000</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  period</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;daily&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Check quota status</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> quotas </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">await</span><span> storage</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">getQuotas</span><span class="token" style="color:#c5c8c6">(</span><span>tenant</span><span class="token" style="color:#c5c8c6">.</span><span>id</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span></span><span class="token" style="color:#96CBFE">for</span><span> </span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#96CBFE">const</span><span> quota </span><span class="token" style="color:#96CBFE">of</span><span> quotas</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  </span><span class="token" style="color:#A8FF60">console</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">log</span><span class="token" style="color:#c5c8c6">(</span><span class="token template-string template-punctuation" style="color:#A8FF60">`</span><span class="token template-string interpolation interpolation-punctuation" style="color:#c5c8c6">${</span><span class="token template-string interpolation">quota</span><span class="token template-string interpolation" style="color:#c5c8c6">.</span><span class="token template-string interpolation">resource</span><span class="token template-string interpolation interpolation-punctuation" style="color:#c5c8c6">}</span><span class="token template-string" style="color:#A8FF60">: </span><span class="token template-string interpolation interpolation-punctuation" style="color:#c5c8c6">${</span><span class="token template-string interpolation">quota</span><span class="token template-string interpolation" style="color:#c5c8c6">.</span><span class="token template-string interpolation">used</span><span class="token template-string interpolation interpolation-punctuation" style="color:#c5c8c6">}</span><span class="token template-string" style="color:#A8FF60">/</span><span class="token template-string interpolation interpolation-punctuation" style="color:#c5c8c6">${</span><span class="token template-string interpolation">quota</span><span class="token template-string interpolation" style="color:#c5c8c6">.</span><span class="token template-string interpolation">limit</span><span class="token template-string interpolation interpolation-punctuation" style="color:#c5c8c6">}</span><span class="token template-string" style="color:#A8FF60"> (</span><span class="token template-string interpolation interpolation-punctuation" style="color:#c5c8c6">${</span><span class="token template-string interpolation">quota</span><span class="token template-string interpolation" style="color:#c5c8c6">.</span><span class="token template-string interpolation">period</span><span class="token template-string interpolation interpolation-punctuation" style="color:#c5c8c6">}</span><span class="token template-string" style="color:#A8FF60">)</span><span class="token template-string template-punctuation" style="color:#A8FF60">`</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span></code></pre>
                  </div>
                </div>
                <h3 class="text-xl font-semibold mt-8 mb-4">Quota Periods</h3>
                <p>Quotas can be tracked across three time periods:</p>
                <ul>
                  <li><strong>hourly:</strong> Resets every hour</li>
                  <li><strong>daily:</strong> Resets every day</li>
                  <li><strong>monthly:</strong> Resets every month</li>
                </ul>
                <h2 class="text-2xl font-bold mt-12 mb-4">
                  Tenant-Aware Memory
                </h2>
                <p>
                  Use <code>TenantBufferMemory</code> to ensure conversation
                  data is isolated per tenant.
                </p>
                <div
                  class="my-6 rounded-lg overflow-hidden shadow-lg bg-gray-900 border border-base-300 relative group"
                >
                  <div
                    class="flex items-center justify-between bg-base-300 px-4 py-2 border-b border-base-content/10"
                  >
                    <span
                      class="text-xs font-semibold text-base-content/60 uppercase"
                      >typescript</span
                    ><button
                      class="btn btn-xs btn-ghost gap-1 opacity-70 hover:opacity-100 transition-opacity"
                      title="Copy to clipboard"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                        ></path></svg
                      ><span>Copy</span>
                    </button>
                  </div>
                  <div class="overflow-x-auto">
                    <pre
                      style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:0;overflow:auto;border-radius:0.3em;background:transparent;font-size:0.875rem"
                    ><code style="white-space:pre;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace"><span class="token" style="color:#96CBFE">import</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> TenantBufferMemory </span><span class="token" style="color:#c5c8c6">}</span><span> </span><span class="token" style="color:#96CBFE">from</span><span> </span><span class="token" style="color:#A8FF60">&#x27;@lov3kaizen/agentsea-core&#x27;</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#96CBFE">const</span><span> memory </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">TenantBufferMemory</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">{</span><span> maxMessages</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#FF73FD">50</span><span> </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Save conversation for a specific tenant</span><span>
</span><span></span><span class="token" style="color:#96CBFE">await</span><span> memory</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">save</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;tenant-123&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#A8FF60">&#x27;conv-456&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">[</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">{</span><span> role</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;user&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> content</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;Hello!&#x27;</span><span> </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">{</span><span> role</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;assistant&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> content</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;Hi! How can I help?&#x27;</span><span> </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">]</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Load only this tenant&#x27;s conversations</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> history </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">await</span><span> memory</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">load</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;tenant-123&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#A8FF60">&#x27;conv-456&#x27;</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Clear tenant data</span><span>
</span><span></span><span class="token" style="color:#96CBFE">await</span><span> memory</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">clear</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;tenant-123&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#A8FF60">&#x27;conv-456&#x27;</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span></code></pre>
                  </div>
                </div>
                <h2 class="text-2xl font-bold mt-12 mb-4">Storage Backends</h2>
                <p>
                  AgentSea provides multiple storage implementations for tenant
                  data:
                </p>
                <h3 class="text-xl font-semibold mt-8 mb-4">
                  Memory Storage (Development)
                </h3>
                <p>In-memory storage, ideal for development and testing.</p>
                <div
                  class="my-6 rounded-lg overflow-hidden shadow-lg bg-gray-900 border border-base-300 relative group"
                >
                  <div
                    class="flex items-center justify-between bg-base-300 px-4 py-2 border-b border-base-content/10"
                  >
                    <span
                      class="text-xs font-semibold text-base-content/60 uppercase"
                      >typescript</span
                    ><button
                      class="btn btn-xs btn-ghost gap-1 opacity-70 hover:opacity-100 transition-opacity"
                      title="Copy to clipboard"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                        ></path></svg
                      ><span>Copy</span>
                    </button>
                  </div>
                  <div class="overflow-x-auto">
                    <pre
                      style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:0;overflow:auto;border-radius:0.3em;background:transparent;font-size:0.875rem"
                    ><code style="white-space:pre;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace"><span class="token" style="color:#96CBFE">import</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> MemoryTenantStorage</span><span class="token" style="color:#c5c8c6">,</span><span> TenantManager </span><span class="token" style="color:#c5c8c6">}</span><span> </span><span class="token" style="color:#96CBFE">from</span><span> </span><span class="token" style="color:#A8FF60">&#x27;@lov3kaizen/agentsea-core&#x27;</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#96CBFE">const</span><span> storage </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">MemoryTenantStorage</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> tenantManager </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">TenantManager</span><span class="token" style="color:#c5c8c6">(</span><span>storage</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span></code></pre>
                  </div>
                </div>
                <h3 class="text-xl font-semibold mt-8 mb-4">
                  Database Storage (Production)
                </h3>
                <p>
                  For production deployments, implement the
                  <code>TenantStorage</code> interface with your preferred
                  database.
                </p>
                <div
                  class="my-6 rounded-lg overflow-hidden shadow-lg bg-gray-900 border border-base-300 relative group"
                >
                  <div
                    class="flex items-center justify-between bg-base-300 px-4 py-2 border-b border-base-content/10"
                  >
                    <span
                      class="text-xs font-semibold text-base-content/60 uppercase"
                      >typescript</span
                    ><button
                      class="btn btn-xs btn-ghost gap-1 opacity-70 hover:opacity-100 transition-opacity"
                      title="Copy to clipboard"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                        ></path></svg
                      ><span>Copy</span>
                    </button>
                  </div>
                  <div class="overflow-x-auto">
                    <pre
                      style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:0;overflow:auto;border-radius:0.3em;background:transparent;font-size:0.875rem"
                    ><code style="white-space:pre;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace"><span class="token" style="color:#96CBFE">import</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> TenantStorage</span><span class="token" style="color:#c5c8c6">,</span><span> Tenant </span><span class="token" style="color:#c5c8c6">}</span><span> </span><span class="token" style="color:#96CBFE">from</span><span> </span><span class="token" style="color:#A8FF60">&#x27;@lov3kaizen/agentsea-core&#x27;</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#96CBFE">class</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">PostgresTenantStorage</span><span> </span><span class="token" style="color:#96CBFE">implements</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">TenantStorage</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  </span><span class="token" style="color:#96CBFE">async</span><span> </span><span class="token" style="color:#DAD085">create</span><span class="token" style="color:#c5c8c6">(</span><span>tenant</span><span class="token" style="color:#EDEDED">:</span><span> Omit</span><span class="token" style="color:#EDEDED">&lt;</span><span>Tenant</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#A8FF60">&#x27;id&#x27;</span><span> </span><span class="token" style="color:#EDEDED">|</span><span> </span><span class="token" style="color:#A8FF60">&#x27;createdAt&#x27;</span><span> </span><span class="token" style="color:#EDEDED">|</span><span> </span><span class="token" style="color:#A8FF60">&#x27;updatedAt&#x27;</span><span class="token" style="color:#EDEDED">&gt;</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">Promise</span><span class="token" style="color:#EDEDED">&lt;</span><span>Tenant</span><span class="token" style="color:#EDEDED">&gt;</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    </span><span class="token" style="color:#7C7C7C">// Implement with your database</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span>
</span>
<span>  </span><span class="token" style="color:#96CBFE">async</span><span> </span><span class="token" style="color:#DAD085">get</span><span class="token" style="color:#c5c8c6">(</span><span>id</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">string</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">Promise</span><span class="token" style="color:#EDEDED">&lt;</span><span>Tenant </span><span class="token" style="color:#EDEDED">|</span><span> </span><span class="token" style="color:#96CBFE">null</span><span class="token" style="color:#EDEDED">&gt;</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    </span><span class="token" style="color:#7C7C7C">// Implement with your database</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span>
</span>
<span>  </span><span class="token" style="color:#96CBFE">async</span><span> </span><span class="token" style="color:#DAD085">update</span><span class="token" style="color:#c5c8c6">(</span><span>id</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">string</span><span class="token" style="color:#c5c8c6">,</span><span> updates</span><span class="token" style="color:#EDEDED">:</span><span> Partial</span><span class="token" style="color:#EDEDED">&lt;</span><span>Tenant</span><span class="token" style="color:#EDEDED">&gt;</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">Promise</span><span class="token" style="color:#EDEDED">&lt;</span><span>Tenant</span><span class="token" style="color:#EDEDED">&gt;</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    </span><span class="token" style="color:#7C7C7C">// Implement with your database</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span>
</span>
<span>  </span><span class="token" style="color:#96CBFE">async</span><span> </span><span class="token" style="color:#96CBFE">delete</span><span class="token" style="color:#c5c8c6">(</span><span>id</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">string</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">Promise</span><span class="token" style="color:#EDEDED">&lt;</span><span class="token" style="color:#96CBFE">void</span><span class="token" style="color:#EDEDED">&gt;</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    </span><span class="token" style="color:#7C7C7C">// Implement with your database</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span>
</span>
<span>  </span><span class="token" style="color:#96CBFE">async</span><span> </span><span class="token" style="color:#DAD085">getBySlug</span><span class="token" style="color:#c5c8c6">(</span><span>slug</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">string</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">Promise</span><span class="token" style="color:#EDEDED">&lt;</span><span>Tenant </span><span class="token" style="color:#EDEDED">|</span><span> </span><span class="token" style="color:#96CBFE">null</span><span class="token" style="color:#EDEDED">&gt;</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    </span><span class="token" style="color:#7C7C7C">// Implement with your database</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span>
</span>
<span>  </span><span class="token" style="color:#96CBFE">async</span><span> </span><span class="token" style="color:#DAD085">list</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">Promise</span><span class="token" style="color:#EDEDED">&lt;</span><span>Tenant</span><span class="token" style="color:#c5c8c6">[</span><span class="token" style="color:#c5c8c6">]</span><span class="token" style="color:#EDEDED">&gt;</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    </span><span class="token" style="color:#7C7C7C">// Implement with your database</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span>
</span>
<span>  </span><span class="token" style="color:#7C7C7C">// ... implement remaining methods</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span></code></pre>
                  </div>
                </div>
                <h2 class="text-2xl font-bold mt-12 mb-4">
                  NestJS Integration
                </h2>
                <p>
                  AgentSea provides decorators and guards for seamless
                  multi-tenancy in NestJS applications.
                </p>
                <h3 class="text-xl font-semibold mt-8 mb-4">Tenant Guard</h3>
                <div
                  class="my-6 rounded-lg overflow-hidden shadow-lg bg-gray-900 border border-base-300 relative group"
                >
                  <div
                    class="flex items-center justify-between bg-base-300 px-4 py-2 border-b border-base-content/10"
                  >
                    <span
                      class="text-xs font-semibold text-base-content/60 uppercase"
                      >typescript</span
                    ><button
                      class="btn btn-xs btn-ghost gap-1 opacity-70 hover:opacity-100 transition-opacity"
                      title="Copy to clipboard"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                        ></path></svg
                      ><span>Copy</span>
                    </button>
                  </div>
                  <div class="overflow-x-auto">
                    <pre
                      style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:0;overflow:auto;border-radius:0.3em;background:transparent;font-size:0.875rem"
                    ><code style="white-space:pre;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace"><span class="token" style="color:#96CBFE">import</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> Controller</span><span class="token" style="color:#c5c8c6">,</span><span> Get</span><span class="token" style="color:#c5c8c6">,</span><span> UseGuards </span><span class="token" style="color:#c5c8c6">}</span><span> </span><span class="token" style="color:#96CBFE">from</span><span> </span><span class="token" style="color:#A8FF60">&#x27;@nestjs/common&#x27;</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span></span><span class="token" style="color:#96CBFE">import</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> TenantGuard</span><span class="token" style="color:#c5c8c6">,</span><span> Tenant </span><span class="token" style="color:#c5c8c6">}</span><span> </span><span class="token" style="color:#96CBFE">from</span><span> </span><span class="token" style="color:#A8FF60">&#x27;@lov3kaizen/agentsea-nestjs&#x27;</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token decorator at" style="color:#EDEDED">@</span><span class="token decorator" style="color:#DAD085">Controller</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;agents&#x27;</span><span class="token" style="color:#c5c8c6">)</span><span>
</span><span></span><span class="token decorator at" style="color:#EDEDED">@</span><span class="token decorator" style="color:#DAD085">UseGuards</span><span class="token" style="color:#c5c8c6">(</span><span>TenantGuard</span><span class="token" style="color:#c5c8c6">)</span><span>
</span><span></span><span class="token" style="color:#96CBFE">export</span><span> </span><span class="token" style="color:#96CBFE">class</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">AgentsController</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  </span><span class="token decorator at" style="color:#EDEDED">@</span><span class="token decorator" style="color:#DAD085">Get</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span>
</span><span>  </span><span class="token" style="color:#96CBFE">async</span><span> </span><span class="token" style="color:#DAD085">listAgents</span><span class="token" style="color:#c5c8c6">(</span><span class="token decorator at" style="color:#EDEDED">@</span><span class="token decorator" style="color:#DAD085">Tenant</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span> tenant</span><span class="token" style="color:#EDEDED">:</span><span> TenantContext</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    </span><span class="token" style="color:#7C7C7C">// tenant.id, tenant.name, tenant.settings are available</span><span>
</span><span>    </span><span class="token" style="color:#96CBFE">return</span><span> </span><span class="token" style="color:#96CBFE">this</span><span class="token" style="color:#c5c8c6">.</span><span>agentService</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">getAgentsByTenant</span><span class="token" style="color:#c5c8c6">(</span><span>tenant</span><span class="token" style="color:#c5c8c6">.</span><span>id</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span></code></pre>
                  </div>
                </div>
                <h3 class="text-xl font-semibold mt-8 mb-4">
                  Tenant Decorator
                </h3>
                <p>
                  Extract tenant context from requests using the
                  <code>@Tenant()</code> decorator.
                </p>
                <div
                  class="my-6 rounded-lg overflow-hidden shadow-lg bg-gray-900 border border-base-300 relative group"
                >
                  <div
                    class="flex items-center justify-between bg-base-300 px-4 py-2 border-b border-base-content/10"
                  >
                    <span
                      class="text-xs font-semibold text-base-content/60 uppercase"
                      >typescript</span
                    ><button
                      class="btn btn-xs btn-ghost gap-1 opacity-70 hover:opacity-100 transition-opacity"
                      title="Copy to clipboard"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                        ></path></svg
                      ><span>Copy</span>
                    </button>
                  </div>
                  <div class="overflow-x-auto">
                    <pre
                      style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:0;overflow:auto;border-radius:0.3em;background:transparent;font-size:0.875rem"
                    ><code style="white-space:pre;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace"><span class="token" style="color:#96CBFE">import</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> Tenant </span><span class="token" style="color:#c5c8c6">}</span><span> </span><span class="token" style="color:#96CBFE">from</span><span> </span><span class="token" style="color:#A8FF60">&#x27;@lov3kaizen/agentsea-nestjs&#x27;</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token decorator at" style="color:#EDEDED">@</span><span class="token decorator" style="color:#DAD085">Post</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;execute&#x27;</span><span class="token" style="color:#c5c8c6">)</span><span>
</span><span></span><span class="token" style="color:#96CBFE">async</span><span> </span><span class="token" style="color:#DAD085">executeAgent</span><span class="token" style="color:#c5c8c6">(</span><span>
</span><span>  </span><span class="token decorator at" style="color:#EDEDED">@</span><span class="token decorator" style="color:#DAD085">Tenant</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span> tenant</span><span class="token" style="color:#EDEDED">:</span><span> TenantContext</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  </span><span class="token decorator at" style="color:#EDEDED">@</span><span class="token decorator" style="color:#DAD085">Body</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span> dto</span><span class="token" style="color:#EDEDED">:</span><span> ExecuteAgentDto</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  </span><span class="token" style="color:#7C7C7C">// Use tenant.id for data isolation</span><span>
</span><span>  </span><span class="token" style="color:#96CBFE">return</span><span> </span><span class="token" style="color:#96CBFE">this</span><span class="token" style="color:#c5c8c6">.</span><span>agentService</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">execute</span><span class="token" style="color:#c5c8c6">(</span><span>tenant</span><span class="token" style="color:#c5c8c6">.</span><span>id</span><span class="token" style="color:#c5c8c6">,</span><span> dto</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span></code></pre>
                  </div>
                </div>
                <h2 class="text-2xl font-bold mt-12 mb-4">Complete Example</h2>
                <div
                  class="my-6 rounded-lg overflow-hidden shadow-lg bg-gray-900 border border-base-300 relative group"
                >
                  <div
                    class="flex items-center justify-between bg-base-300 px-4 py-2 border-b border-base-content/10"
                  >
                    <span
                      class="text-xs font-semibold text-base-content/60 uppercase"
                      >typescript</span
                    ><button
                      class="btn btn-xs btn-ghost gap-1 opacity-70 hover:opacity-100 transition-opacity"
                      title="Copy to clipboard"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                        ></path></svg
                      ><span>Copy</span>
                    </button>
                  </div>
                  <div class="overflow-x-auto">
                    <pre
                      style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:0;overflow:auto;border-radius:0.3em;background:transparent;font-size:0.875rem"
                    ><code style="white-space:pre;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace"><span class="token" style="color:#96CBFE">import</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  TenantManager</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  MemoryTenantStorage</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  TenantBufferMemory</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  Agent</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  AnthropicProvider</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  ToolRegistry</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span><span> </span><span class="token" style="color:#96CBFE">from</span><span> </span><span class="token" style="color:#A8FF60">&#x27;@lov3kaizen/agentsea-core&#x27;</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Initialize multi-tenancy system</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> storage </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">MemoryTenantStorage</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> tenantManager </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">TenantManager</span><span class="token" style="color:#c5c8c6">(</span><span>storage</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Create tenant</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> tenant </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">await</span><span> tenantManager</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">createTenant</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  name</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;Acme Corp&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  slug</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;acme-corp&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  settings</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    maxAgents</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#FF73FD">10</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    maxConversations</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#FF73FD">100</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    allowedProviders</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#c5c8c6">[</span><span class="token" style="color:#A8FF60">&#x27;anthropic&#x27;</span><span class="token" style="color:#c5c8c6">]</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Generate API key</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> apiKey </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">await</span><span> tenantManager</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">generateApiKey</span><span class="token" style="color:#c5c8c6">(</span><span>tenant</span><span class="token" style="color:#c5c8c6">.</span><span>id</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span></span><span class="token" style="color:#A8FF60">console</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">log</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;Save this API key:&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> apiKey</span><span class="token" style="color:#c5c8c6">.</span><span>key</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Setup tenant-isolated memory</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> memory </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">TenantBufferMemory</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Create agent for tenant</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> agent </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">Agent</span><span class="token" style="color:#c5c8c6">(</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    name</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;support-agent&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    model</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;claude-sonnet-4-20250514&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    provider</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;anthropic&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    systemPrompt</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;You are a helpful customer support assistant.&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">AnthropicProvider</span><span class="token" style="color:#c5c8c6">(</span><span>process</span><span class="token" style="color:#c5c8c6">.</span><span>env</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#99CC99">ANTHROPIC_API_KEY</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">ToolRegistry</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">{</span><span> type</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;custom&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> store</span><span class="token" style="color:#EDEDED">:</span><span> memory </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Execute with tenant context</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> conversationId </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#A8FF60">&#x27;conv-1&#x27;</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> response </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">await</span><span> agent</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">execute</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;How do I reset my password?&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  conversationId</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  sessionData</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> tenantId</span><span class="token" style="color:#EDEDED">:</span><span> tenant</span><span class="token" style="color:#c5c8c6">.</span><span>id </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  history</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#96CBFE">await</span><span> memory</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">load</span><span class="token" style="color:#c5c8c6">(</span><span>tenant</span><span class="token" style="color:#c5c8c6">.</span><span>id</span><span class="token" style="color:#c5c8c6">,</span><span> conversationId</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Save tenant conversation</span><span>
</span><span></span><span class="token" style="color:#96CBFE">await</span><span> memory</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">save</span><span class="token" style="color:#c5c8c6">(</span><span>tenant</span><span class="token" style="color:#c5c8c6">.</span><span>id</span><span class="token" style="color:#c5c8c6">,</span><span> conversationId</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">[</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">{</span><span> role</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;user&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> content</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;How do I reset my password?&#x27;</span><span> </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">{</span><span> role</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;assistant&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> content</span><span class="token" style="color:#EDEDED">:</span><span> response</span><span class="token" style="color:#c5c8c6">.</span><span>content </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">]</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Record usage</span><span>
</span><span></span><span class="token" style="color:#96CBFE">await</span><span> tenantManager</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">recordQuotaUsage</span><span class="token" style="color:#c5c8c6">(</span><span>tenant</span><span class="token" style="color:#c5c8c6">.</span><span>id</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  resource</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;api_calls&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  amount</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#FF73FD">1</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  period</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;hourly&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#96CBFE">await</span><span> tenantManager</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">recordQuotaUsage</span><span class="token" style="color:#c5c8c6">(</span><span>tenant</span><span class="token" style="color:#c5c8c6">.</span><span>id</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  resource</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;tokens&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  amount</span><span class="token" style="color:#EDEDED">:</span><span> response</span><span class="token" style="color:#c5c8c6">.</span><span>metadata</span><span class="token" style="color:#c5c8c6">.</span><span>tokensUsed </span><span class="token" style="color:#EDEDED">||</span><span> </span><span class="token" style="color:#FF73FD">0</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  period</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;daily&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#A8FF60">console</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">log</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;Response:&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> response</span><span class="token" style="color:#c5c8c6">.</span><span>content</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span></code></pre>
                  </div>
                </div>
                <h2 class="text-2xl font-bold mt-12 mb-4">Best Practices</h2>
                <ul>
                  <li>
                    <strong>API Key Security:</strong> Always use HTTPS and
                    never log plaintext API keys
                  </li>
                  <li>
                    <strong>Quota Monitoring:</strong> Set up alerts when
                    tenants approach quota limits
                  </li>
                  <li>
                    <strong>Data Retention:</strong> Respect tenant data
                    retention policies and automate cleanup
                  </li>
                  <li>
                    <strong>Resource Limits:</strong> Set conservative defaults
                    and allow upgrades
                  </li>
                  <li>
                    <strong>Audit Logging:</strong> Track all tenant operations
                    for compliance
                  </li>
                  <li>
                    <strong>Graceful Degradation:</strong> Handle quota exceeded
                    scenarios with clear error messages
                  </li>
                  <li>
                    <strong>Testing:</strong> Test with multiple tenants to
                    ensure complete isolation
                  </li>
                </ul>
                <h2 class="text-2xl font-bold mt-12 mb-4">Next Steps</h2>
                <ul>
                  <li>
                    <a
                      class="text-blue-600 hover:underline"
                      href="/docs/nestjs/"
                      >NestJS Integration</a
                    >
                    - Build multi-tenant APIs with NestJS
                  </li>
                  <li>
                    <a
                      class="text-blue-600 hover:underline"
                      href="/docs/memory/"
                      >Memory Stores</a
                    >
                    - Learn about tenant-aware memory systems
                  </li>
                  <li>
                    <a
                      class="text-blue-600 hover:underline"
                      href="/docs/observability/"
                      >Observability</a
                    >
                    - Monitor tenant usage and performance
                  </li>
                  <li>
                    <a class="text-blue-600 hover:underline" href="/examples/"
                      >Examples</a
                    >
                    - See complete multi-tenancy examples
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <!--$--><!--/$-->
        </main>
        <footer class="footer footer-center bg-base-200 text-base-content p-10">
          <nav class="grid grid-flow-col gap-4">
            <a class="link link-hover" href="/docs/voice/">Voice Features</a
            ><a class="link link-hover" href="/docs/local-models/"
              >Local Models</a
            ><a class="link link-hover" href="/docs/cli/">CLI Tool</a
            ><a class="link link-hover" href="/api/">REST API</a>
          </nav>
          <nav class="grid grid-flow-col gap-4">
            <a
              href="https://github.com/lovekaizen/agentsea"
              class="link link-hover"
              >GitHub</a
            ><a
              href="https://github.com/lovekaizen/agentsea/discussions"
              class="link link-hover"
              >Discussions</a
            ><a
              href="https://github.com/lovekaizen/agentsea/issues"
              class="link link-hover"
              >Issues</a
            >
          </nav>
          <aside><p>¬© 2025 AgentSea ADK. MIT License.</p></aside>
        </footer>
      </div>
      <div class="drawer-side border border-r-1 border-y-0 border-l-0">
        <label for="main-drawer" class="drawer-overlay"></label>
        <aside class="bg-base-200 min-h-full w-80">
          <ul class="menu p-4">
            <li>
              <h2 class="menu-title">Getting Started</h2>
              <ul>
                <li class="pl-2">
                  <a class="active:text-white" href="/">Home</a>
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/">Documentation</a>
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/installation/"
                    >Installation</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/quick-start/"
                    >Quick Start</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/cli/">CLI Tool</a>
                </li>
              </ul>
            </li>
            <li>
              <h2 class="menu-title">Core Concepts</h2>
              <ul>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/agents/">Agents</a>
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/providers/"
                    >Providers</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/local-providers/"
                    >Local Providers</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/tools/">Tools</a>
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/workflows/"
                    >Workflows</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/memory/">Memory</a>
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/formatting/"
                    >Content Formatting</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/conversation/"
                    >Conversation</a
                  >
                </li>
              </ul>
            </li>
            <li>
              <h2 class="menu-title">Features</h2>
              <ul>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/voice/"
                    >Voice (TTS/STT)</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/local-models/"
                    >Local Models</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/acp-integration/"
                    >ACP Commerce</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/api/"
                    >REST API &amp; Streaming</a
                  >
                </li>
              </ul>
            </li>
            <li>
              <h2 class="menu-title">MCP Integration</h2>
              <ul>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/mcp-overview/"
                    >Overview</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/mcp-servers/"
                    >MCP Servers</a
                  >
                </li>
              </ul>
            </li>
            <li>
              <h2 class="menu-title">Advanced</h2>
              <ul>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/multi-tenancy/"
                    >Multi-Tenancy</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/observability/"
                    >Observability</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/nestjs/"
                    >NestJS Integration</a
                  >
                </li>
              </ul>
            </li>
            <li>
              <h2 class="menu-title">Resources</h2>
              <ul>
                <li class="pl-2">
                  <a class="active:text-white" href="/examples/">Examples</a>
                </li>
              </ul>
            </li>
          </ul>
        </aside>
      </div>
    </div>
    <script
      src="/_next/static/chunks/webpack-1b7e2f9af6e0232d.js"
      id="_R_"
      async=""
    ></script>
    <script>
      (self.__next_f = self.__next_f || []).push([0]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '1:"$Sreact.fragment"\n2:I[1275,["619","static/chunks/619-ba102abea3e3d0e4.js","543","static/chunks/543-a0960cd7f2b1c22c.js","177","static/chunks/app/layout-b0f860a3d9150669.js"],"default"]\n3:I[9766,[],""]\n4:I[8924,[],""]\n37:I[7150,[],""]\n:HL["/_next/static/media/e4af272ccee01ff0-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]\n:HL["/_next/static/css/7e7d96b1e6991756.css","style"]\n:HL["/_next/static/css/1145ad3a91ffb5c9.css","style"]\n:HL["/_next/static/css/7a622664f4c377b7.css","style"]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '0:{"P":null,"b":"BR2GXXFimfBinRJoMr3YY","p":"","c":["","docs","multi-tenancy",""],"i":false,"f":[[["",{"children":["docs",{"children":["multi-tenancy",{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/7e7d96b1e6991756.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/1145ad3a91ffb5c9.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","2",{"rel":"stylesheet","href":"/_next/static/css/7a622664f4c377b7.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"en","data-theme":"cmyk","children":["$","body",null,{"className":"__className_f367f3","children":["$","$L2",null,{"children":["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\\"Segoe UI\\",Roboto,Helvetica,Arial,sans-serif,\\"Apple Color Emoji\\",\\"Segoe UI Emoji\\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]}]}]]}],{"children":["docs",["$","$1","c",{"children":[null,["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["multi-tenancy",["$","$1","c",{"children":[null,["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":[["$","div",null,{"className":"min-h-screen bg-base-100","children":["$","div",null,{"className":"container mx-auto px-6 py-12 max-w-5xl ","children":[["$","div",null,{"className":"mb-12","children":[["$","h1",null,{"className":"text-5xl font-bold mb-4","children":"Multi-Tenancy Support"}],["$","p",null,{"className":"text-xl text-base-content/70","children":"AgentSea provides enterprise-grade multi-tenancy support, enabling you to serve multiple customers with isolated data, quotas, and configurations."}]]}],["$","div",null,{"className":"prose max-w-none","children":[["$","div",null,{"className":"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8","children":[["$","h3",null,{"className":"text-lg font-semibold mb-2","children":"üÜï Latest Feature"}],["$","p",null,{"className":"mb-0","children":"Multi-tenancy support was added in v0.1.0, providing production-ready tenant isolation, API key authentication, and quota management."}]]}],["$","h2",null,{"className":"text-2xl font-bold mt-12 mb-4","children":"Overview"}],["$","p",null,{"children":"The multi-tenancy system provides:"}],["$","ul",null,{"children":[["$","li",null,{"children":[["$","strong",null,{"children":"Tenant Isolation:"}]," Complete data separation between tenants"]}],["$","li",null,{"children":[["$","strong",null,{"children":"API Key Authentication:"}]," Secure SHA256-hashed API keys per tenant"]}],["$","li",null,{"children":[["$","strong",null,{"children":"Quota Management:"}]," Track and enforce usage limits across hourly, daily, and monthly periods"]}],["$","li",null,{"children":[["$","strong",null,{"children":"Settings Management:"}]," Per-tenant configuration for agents, conversations, rate limits, and more"]}],["$","li",null,{"children":[["$","strong",null,{"children":"Status Control:"}]," Activate, suspend, or deactivate tenants dynamically"]}],"$L5"]}],"$L6","$L7","$L8","$L9","$La","$Lb","$Lc","$Ld","$Le","$Lf","$L10","$L11","$L12","$L13","$L14","$L15","$L16","$L17","$L18","$L19","$L1a","$L1b","$L1c","$L1d","$L1e","$L1f","$L20","$L21","$L22","$L23","$L24","$L25","$L26","$L27","$L28","$L29","$L2a","$L2b","$L2c","$L2d","$L2e","$L2f","$L30","$L31","$L32","$L33","$L34"]}]]}]}],null,"$L35"]}],{},null,false]},null,false]},null,false]},null,false],"$L36",false]],"m":"$undefined","G":["$37",[]],"s":false,"S":true}\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '38:I[8467,["619","static/chunks/619-ba102abea3e3d0e4.js","501","static/chunks/501-26489c9c153fdafc.js","187","static/chunks/app/docs/multi-tenancy/page-1661e6a98b49e8b6.js"],"CodeBlock"]\n3a:I[2619,["619","static/chunks/619-ba102abea3e3d0e4.js","501","static/chunks/501-26489c9c153fdafc.js","187","static/chunks/app/docs/multi-tenancy/page-1661e6a98b49e8b6.js"],""]\n3b:I[4431,[],"OutletBoundary"]\n3d:I[5278,[],"AsyncMetadataOutlet"]\n3f:I[4431,[],"ViewportBoundary"]\n41:I[4431,[],"MetadataBoundary"]\n42:"$Sreact.suspense"\n5:["$","li",null,{"children":[["$","strong",null,{"children":"Memory Isolation:"}]," Tenant-scoped conversation history and memory stores"]}]\n6:["$","h2",null,{"className":"text-2xl font-bold mt-12 mb-4","children":"Tenant Manager"}]\n7:["$","p",null,{"children":["The ",["$","code",null,{"children":"TenantManager"}]," class provides complete lifecycle management for tenants."]}]\n8:["$","h3",null,{"className":"text-xl font-semibold mt-8 mb-4","children":"Creating a Tenant"}]\n9:["$","$L38",null,{"language":"typescript","children":"import { TenantManager, MemoryTenantStorage } from \'@lov3kaizen/agentsea-core\';\\n\\nconst storage = new MemoryTenantStorage();\\nconst tenantManager = new TenantManager(storage);\\n\\n// Create a new tenant\\nconst tenant = await tenantManager.createTenant({\\n  name: \'Acme Corporation\',\\n  slug: \'acme-corp\',\\n  metadata: {\\n    industry: \'Technology\',\\n    plan: \'enterprise\',\\n  },\\n  settings: {\\n    maxAgents: 50,\\n    maxConversations: 1000,\\n    rateLimit: { requestsPerMinute: 100 },\\n    dataRetentionDays: 90,\\n    allowedProviders: [\'anthropic\', \'openai\'],\\n  },\\n});\\n\\nconsole.log(\'Tenant created:\', tenant.id);"}]\na:["$","h3",null,{"className":"text-xl font-semibold mt-8 mb-4","children":"Generating API Keys"}]\nb:["$","p",null,{"children":"Each tenant can have one or more API keys with scoped permissions and expiration dates."}]\nc:["$","$L38",null,{"language":"typescript","children":"// Generate a new API key for the tenant\\nconst apiKey = await tenantManager.generateApiKey(tenant.id, {\\n ',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        ' scopes: [\'agents:read\', \'agents:write\', \'conversations:read\'],\\n  expiresAt: new Date(Date.now() + 365 * 24 * 60 * 60 * 1000), // 1 year\\n});\\n\\nconsole.log(\'API Key:\', apiKey.key); // Save this - it won\'t be shown again!\\nconsole.log(\'Key ID:\', apiKey.id);\\n\\n// Verify an API key\\nconst verified = await tenantManager.verifyApiKey(apiKey.key);\\nif (verified) {\\n  console.log(\'Valid API key for tenant:\', verified.tenantId);\\n}"}]\nd:["$","div",null,{"className":"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-8","children":[["$","h3",null,{"className":"text-lg font-semibold mb-2","children":"‚ö†Ô∏è Security Note"}],["$","p",null,{"className":"mb-0","children":"API keys are hashed using SHA256 before storage. The plaintext key is only available during generation. Store it securely!"}]]}]\ne:["$","h2",null,{"className":"text-2xl font-bold mt-12 mb-4","children":"Tenant Configuration"}]\nf:["$","h3",null,{"className":"text-xl font-semibold mt-8 mb-4","children":"Tenant Settings"}]\n10:["$","p",null,{"children":"Each tenant has customizable settings that control resource limits and behavior:"}]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '11:["$","div",null,{"className":"overflow-x-auto mb-6","children":["$","table",null,{"className":"min-w-full bg-white border border-gray-200","children":[["$","thead",null,{"children":["$","tr",null,{"className":"bg-gray-50","children":[["$","th",null,{"className":"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase","children":"Setting"}],["$","th",null,{"className":"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase","children":"Type"}],["$","th",null,{"className":"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase","children":"Description"}]]}]}],["$","tbody",null,{"className":"divide-y divide-gray-200","children":[["$","tr",null,{"children":[["$","td",null,{"className":"px-6 py-4 text-sm text-gray-900","children":"maxAgents"}],["$","td",null,{"className":"px-6 py-4 text-sm text-gray-600","children":"number"}],["$","td",null,{"className":"px-6 py-4 text-sm text-gray-600","children":"Maximum number of agents allowed"}]]}],["$","tr",null,{"children":[["$","td",null,{"className":"px-6 py-4 text-sm text-gray-900","children":"maxConversations"}],["$","td",null,{"className":"px-6 py-4 text-sm text-gray-600","children":"number"}],["$","td",null,{"className":"px-6 py-4 text-sm text-gray-600","children":"Maximum concurrent conversations"}]]}],["$","tr",null,{"children":[["$","td",null,{"className":"px-6 py-4 text-sm text-gray-900","children":"rateLimit"}],["$","td",null,{"className":"px-6 py-4 text-sm text-gray-600","children":"object"}],["$","td",null,{"className":"px-6 py-4 text-sm text-gray-600","children":"Requests per minute limit"}]]}],["$","tr",null,{"children":[["$","td",null,{"className":"px-6 py-4 text-sm text-gray-900","children":"dataRetentionDays"}],["$","td",null,{"className":"px-6 py-4 text-sm text-gray-600","children":"number"}],["$","td",null,{"className":"px-6 py-4 text-sm text-gray-600","children":"How long to retain conversation data"}]]}],["$","tr",null,{"children":[["$","td",null,{"className":"px-6 py-4 text-sm text-gray-900","children":"allowedProviders"}],["$","td",null,{"className":"px-6 py-4 text-sm text-gray-600","children":"string[]"}],["$","td",null,{"className":"px-6 py-4 text-sm text-gray-600","children":"Permitted LLM providers"}]]}]]}]]}]}]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '12:["$","h3",null,{"className":"text-xl font-semibold mt-8 mb-4","children":"Tenant Status"}]\n13:["$","p",null,{"children":"Tenants can have one of three statuses:"}]\n14:["$","ul",null,{"children":[["$","li",null,{"children":[["$","strong",null,{"children":"ACTIVE:"}]," Fully operational, can use all features"]}],["$","li",null,{"children":[["$","strong",null,{"children":"SUSPENDED:"}]," Temporarily disabled, typically for non-payment or policy violations"]}],["$","li",null,{"children":[["$","strong",null,{"children":"INACTIVE:"}]," Permanently disabled, retains data but no access"]}]]}]\n15:["$","$L38",null,{"language":"typescript","children":"// Suspend a tenant\\nawait tenantManager.updateTenant(tenant.id, {\\n  status: \'SUSPENDED\',\\n});\\n\\n// Reactivate a tenant\\nawait tenantManager.updateTenant(tenant.id, {\\n  status: \'ACTIVE\',\\n});"}]\n16:["$","h2",null,{"className":"text-2xl font-bold mt-12 mb-4","children":"Quota Management"}]\n17:["$","p",null,{"children":"Track and enforce usage quotas across different time periods."}]\n18:["$","h3",null,{"className":"text-xl font-semibold mt-8 mb-4","children":"Recording Usage"}]\n19:["$","$L38",null,{"language":"typescript","children":"// Record API usage\\nawait tenantManager.recordQuotaUsage(tenant.id, {\\n  resource: \'api_calls\',\\n  amount: 1,\\n  period: \'hourly\',\\n});\\n\\n// Record token usage\\nawait tenantManager.recordQuotaUsage(tenant.id, {\\n  resource: \'tokens\',\\n  amount: 5000,\\n  period: \'daily\',\\n});\\n\\n// Check quota status\\nconst quotas = await storage.getQuotas(tenant.id);\\nfor (const quota of quotas) {\\n  console.log(`${quota.resource}: ${quota.used}/${quota.limit} (${quota.period})`);\\n}"}]\n1a:["$","h3",null,{"className":"text-xl font-semibold mt-8 mb-4","children":"Quota Periods"}]\n1b:["$","p",null,{"children":"Quotas can be tracked across three time periods:"}]\n1c:["$","ul",null,{"children":[["$","li",null,{"children":[["$","strong",null,{"children":"hourly:"}]," Resets every hour"]}],["$","li",null,{"children":[["$","strong",null,{"children":"daily:"}]," Rese',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        'ts every day"]}],["$","li",null,{"children":[["$","strong",null,{"children":"monthly:"}]," Resets every month"]}]]}]\n1d:["$","h2",null,{"className":"text-2xl font-bold mt-12 mb-4","children":"Tenant-Aware Memory"}]\n1e:["$","p",null,{"children":["Use ",["$","code",null,{"children":"TenantBufferMemory"}]," to ensure conversation data is isolated per tenant."]}]\n1f:["$","$L38",null,{"language":"typescript","children":"import { TenantBufferMemory } from \'@lov3kaizen/agentsea-core\';\\n\\nconst memory = new TenantBufferMemory({ maxMessages: 50 });\\n\\n// Save conversation for a specific tenant\\nawait memory.save(\'tenant-123\', \'conv-456\', [\\n  { role: \'user\', content: \'Hello!\' },\\n  { role: \'assistant\', content: \'Hi! How can I help?\' },\\n]);\\n\\n// Load only this tenant\'s conversations\\nconst history = await memory.load(\'tenant-123\', \'conv-456\');\\n\\n// Clear tenant data\\nawait memory.clear(\'tenant-123\', \'conv-456\');"}]\n20:["$","h2",null,{"className":"text-2xl font-bold mt-12 mb-4","children":"Storage Backends"}]\n21:["$","p",null,{"children":"AgentSea provides multiple storage implementations for tenant data:"}]\n22:["$","h3",null,{"className":"text-xl font-semibold mt-8 mb-4","children":"Memory Storage (Development)"}]\n23:["$","p",null,{"children":"In-memory storage, ideal for development and testing."}]\n24:["$","$L38",null,{"language":"typescript","children":"import { MemoryTenantStorage, TenantManager } from \'@lov3kaizen/agentsea-core\';\\n\\nconst storage = new MemoryTenantStorage();\\nconst tenantManager = new TenantManager(storage);"}]\n25:["$","h3",null,{"className":"text-xl font-semibold mt-8 mb-4","children":"Database Storage (Production)"}]\n26:["$","p",null,{"children":["For production deployments, implement the ",["$","code",null,{"children":"TenantStorage"}]," interface with your preferred database."]}]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '27:["$","$L38",null,{"language":"typescript","children":"import { TenantStorage, Tenant } from \'@lov3kaizen/agentsea-core\';\\n\\nclass PostgresTenantStorage implements TenantStorage {\\n  async create(tenant: Omit\u003cTenant, \'id\' | \'createdAt\' | \'updatedAt\'\u003e): Promise\u003cTenant\u003e {\\n    // Implement with your database\\n  }\\n\\n  async get(id: string): Promise\u003cTenant | null\u003e {\\n    // Implement with your database\\n  }\\n\\n  async update(id: string, updates: Partial\u003cTenant\u003e): Promise\u003cTenant\u003e {\\n    // Implement with your database\\n  }\\n\\n  async delete(id: string): Promise\u003cvoid\u003e {\\n    // Implement with your database\\n  }\\n\\n  async getBySlug(slug: string): Promise\u003cTenant | null\u003e {\\n    // Implement with your database\\n  }\\n\\n  async list(): Promise\u003cTenant[]\u003e {\\n    // Implement with your database\\n  }\\n\\n  // ... implement remaining methods\\n}"}]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '28:["$","h2",null,{"className":"text-2xl font-bold mt-12 mb-4","children":"NestJS Integration"}]\n29:["$","p",null,{"children":"AgentSea provides decorators and guards for seamless multi-tenancy in NestJS applications."}]\n2a:["$","h3",null,{"className":"text-xl font-semibold mt-8 mb-4","children":"Tenant Guard"}]\n2b:["$","$L38",null,{"language":"typescript","children":"import { Controller, Get, UseGuards } from \'@nestjs/common\';\\nimport { TenantGuard, Tenant } from \'@lov3kaizen/agentsea-nestjs\';\\n\\n@Controller(\'agents\')\\n@UseGuards(TenantGuard)\\nexport class AgentsController {\\n  @Get()\\n  async listAgents(@Tenant() tenant: TenantContext) {\\n    // tenant.id, tenant.name, tenant.settings are available\\n    return this.agentService.getAgentsByTenant(tenant.id);\\n  }\\n}"}]\n2c:["$","h3",null,{"className":"text-xl font-semibold mt-8 mb-4","children":"Tenant Decorator"}]\n2d:["$","p",null,{"children":["Extract tenant context from requests using the ",["$","code",null,{"children":"@Tenant()"}]," decorator."]}]\n2e:["$","$L38",null,{"language":"typescript","children":"import { Tenant } from \'@lov3kaizen/agentsea-nestjs\';\\n\\n@Post(\'execute\')\\nasync executeAgent(\\n  @Tenant() tenant: TenantContext,\\n  @Body() dto: ExecuteAgentDto,\\n) {\\n  // Use tenant.id for data isolation\\n  return this.agentService.execute(tenant.id, dto);\\n}"}]\n2f:["$","h2",null,{"className":"text-2xl font-bold mt-12 mb-4","children":"Complete Example"}]\n39:T6fe,',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        "import {\n  TenantManager,\n  MemoryTenantStorage,\n  TenantBufferMemory,\n  Agent,\n  AnthropicProvider,\n  ToolRegistry,\n} from '@lov3kaizen/agentsea-core';\n\n// Initialize multi-tenancy system\nconst storage = new MemoryTenantStorage();\nconst tenantManager = new TenantManager(storage);\n\n// Create tenant\nconst tenant = await tenantManager.createTenant({\n  name: 'Acme Corp',\n  slug: 'acme-corp',\n  settings: {\n    maxAgents: 10,\n    maxConversations: 100,\n    allowedProviders: ['anthropic'],\n  },\n});\n\n// Generate API key\nconst apiKey = await tenantManager.generateApiKey(tenant.id);\nconsole.log('Save this API key:', apiKey.key);\n\n// Setup tenant-isolated memory\nconst memory = new TenantBufferMemory();\n\n// Create agent for tenant\nconst agent = new Agent(\n  {\n    name: 'support-agent',\n    model: 'claude-sonnet-4-20250514',\n    provider: 'anthropic',\n    systemPrompt: 'You are a helpful customer support assistant.',\n  },\n  new AnthropicProvider(process.env.ANTHROPIC_API_KEY),\n  new ToolRegistry(),\n  { type: 'custom', store: memory },\n);\n\n// Execute with tenant context\nconst conversationId = 'conv-1';\nconst response = await agent.execute('How do I reset my password?', {\n  conversationId,\n  sessionData: { tenantId: tenant.id },\n  history: await memory.load(tenant.id, conversationId),\n});\n\n// Save tenant conversation\nawait memory.save(tenant.id, conversationId, [\n  { role: 'user', content: 'How do I reset my password?' },\n  { role: 'assistant', content: response.content },\n]);\n\n// Record usage\nawait tenantManager.recordQuotaUsage(tenant.id, {\n  resource: 'api_calls',\n  amount: 1,\n  period: 'hourly',\n});\n\nawait tenantManager.recordQuotaUsage(tenant.id, {\n  resource: 'tokens',\n  amount: response.metadata.tokensUsed || 0,\n  period: 'daily',\n});\n\nconsole.log('Response:', response.content);",
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '30:["$","$L38",null,{"language":"typescript","children":"$39"}]\n31:["$","h2",null,{"className":"text-2xl font-bold mt-12 mb-4","children":"Best Practices"}]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '32:["$","ul",null,{"children":[["$","li",null,{"children":[["$","strong",null,{"children":"API Key Security:"}]," Always use HTTPS and never log plaintext API keys"]}],["$","li",null,{"children":[["$","strong",null,{"children":"Quota Monitoring:"}]," Set up alerts when tenants approach quota limits"]}],["$","li",null,{"children":[["$","strong",null,{"children":"Data Retention:"}]," Respect tenant data retention policies and automate cleanup"]}],["$","li",null,{"children":[["$","strong",null,{"children":"Resource Limits:"}]," Set conservative defaults and allow upgrades"]}],["$","li",null,{"children":[["$","strong",null,{"children":"Audit Logging:"}]," Track all tenant operations for compliance"]}],["$","li",null,{"children":[["$","strong",null,{"children":"Graceful Degradation:"}]," Handle quota exceeded scenarios with clear error messages"]}],["$","li",null,{"children":[["$","strong",null,{"children":"Testing:"}]," Test with multiple tenants to ensure complete isolation"]}]]}]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '33:["$","h2",null,{"className":"text-2xl font-bold mt-12 mb-4","children":"Next Steps"}]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '34:["$","ul",null,{"children":[["$","li",null,{"children":[["$","$L3a",null,{"href":"/docs/nestjs","className":"text-blue-600 hover:underline","children":"NestJS Integration"}]," - Build multi-tenant APIs with NestJS"]}],["$","li",null,{"children":[["$","$L3a",null,{"href":"/docs/memory","className":"text-blue-600 hover:underline","children":"Memory Stores"}]," - Learn about tenant-aware memory systems"]}],["$","li",null,{"children":[["$","$L3a",null,{"href":"/docs/observability","className":"text-blue-600 hover:underline","children":"Observability"}]," - Monitor tenant usage and performance"]}],["$","li",null,{"children":[["$","$L3a",null,{"href":"/examples","className":"text-blue-600 hover:underline","children":"Examples"}]," - See complete multi-tenancy examples"]}]]}]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '35:["$","$L3b",null,{"children":["$L3c",["$","$L3d",null,{"promise":"$@3e"}]]}]\n36:["$","$1","h",{"children":[null,[["$","$L3f",null,{"children":"$L40"}],["$","meta",null,{"name":"next-size-adjust","content":""}]],["$","$L41",null,{"children":["$","div",null,{"hidden":true,"children":["$","$42",null,{"fallback":null,"children":"$L43"}]}]}]]}]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '40:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]\n3c:null\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '3e:{"metadata":[["$","title","0",{"children":"AgentSea - Unite and Orchestrate AI Agents"}],["$","meta","1",{"name":"description","content":"Build powerful agentic AI applications with AgentSea. Unite AI agents and services with multi-provider support, workflow orchestration, MCP protocol, and enterprise-grade observability."}]],"error":null,"digest":"$undefined"}\n',
      ]);
    </script>
    <script>
      self.__next_f.push([1, '43:"$3e:metadata"\n']);
    </script>
  </body>
</html>
