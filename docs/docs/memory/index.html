<!doctype html>
<!--BR2GXXFimfBinRJoMr3YY-->
<html lang="en" data-theme="cmyk">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="preload"
      href="/_next/static/media/e4af272ccee01ff0-s.p.woff2"
      as="font"
      crossorigin=""
      type="font/woff2"
    />
    <link
      rel="stylesheet"
      href="/_next/static/css/7e7d96b1e6991756.css"
      data-precedence="next"
    />
    <link
      rel="stylesheet"
      href="/_next/static/css/1145ad3a91ffb5c9.css"
      data-precedence="next"
    />
    <link
      rel="stylesheet"
      href="/_next/static/css/7a622664f4c377b7.css"
      data-precedence="next"
    />
    <link
      rel="preload"
      as="script"
      fetchpriority="low"
      href="/_next/static/chunks/webpack-1b7e2f9af6e0232d.js"
    />
    <script
      src="/_next/static/chunks/4bd1b696-c023c6e3521b1417.js"
      async=""
    ></script>
    <script
      src="/_next/static/chunks/255-0fb808ac7cfa018d.js"
      async=""
    ></script>
    <script
      src="/_next/static/chunks/main-app-55a8534c92ac85d5.js"
      async=""
    ></script>
    <script
      src="/_next/static/chunks/619-ba102abea3e3d0e4.js"
      async=""
    ></script>
    <script
      src="/_next/static/chunks/543-a0960cd7f2b1c22c.js"
      async=""
    ></script>
    <script
      src="/_next/static/chunks/app/layout-b0f860a3d9150669.js"
      async=""
    ></script>
    <script
      src="/_next/static/chunks/501-26489c9c153fdafc.js"
      async=""
    ></script>
    <script
      src="/_next/static/chunks/app/docs/memory/page-1661e6a98b49e8b6.js"
      async=""
    ></script>
    <meta name="next-size-adjust" content="" />
    <title>AgentSea - Unite and Orchestrate AI Agents</title>
    <meta
      name="description"
      content="Build powerful agentic AI applications with AgentSea. Unite AI agents and services with multi-provider support, workflow orchestration, MCP protocol, and enterprise-grade observability."
    />
    <script
      src="/_next/static/chunks/polyfills-42372ed130431b0a.js"
      nomodule=""
    ></script>
  </head>
  <body class="__className_f367f3">
    <div hidden=""><!--$--><!--/$--></div>
    <div class="drawer lg:drawer-open">
      <input id="main-drawer" type="checkbox" class="drawer-toggle" />
      <div class="drawer-content flex flex-col">
        <div class="navbar">
          <div class="flex-none lg:hidden">
            <label for="main-drawer" class="btn btn-square btn-ghost"
              ><svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                class="inline-block w-6 h-6 stroke-current"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4 6h16M4 12h16M4 18h16"
                ></path></svg
            ></label>
          </div>
          <div class="flex-1">
            <a class="btn btn-ghost px-0 py-6" href="/"
              ><img
                alt="AgentSea Logo"
                loading="lazy"
                width="217"
                height="60"
                decoding="async"
                data-nimg="1"
                style="color: transparent"
                src="/agentsea-sdk-logo.svg"
            /></a>
          </div>
          <div class="flex-none">
            <a
              href="https://github.com/lov3kaizen/agentsea"
              target="_blank"
              rel="noopener noreferrer"
              class="btn btn-ghost btn-circle"
              title="AgentSea on Github"
              ><svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"
                ></path></svg
            ></a>
          </div>
        </div>
        <main class="flex-1">
          <div class="min-h-screen bg-base-100">
            <div class="container mx-auto px-6 py-12 max-w-5xl">
              <div class="mb-12">
                <h1 class="text-5xl font-bold mb-4">Memory</h1>
                <p class="text-xl text-base-content/70">
                  Memory stores enable agents to maintain conversation context
                  across multiple interactions, providing continuity and
                  personalization.
                </p>
              </div>
              <div class="prose max-w-none">
                <h2>Memory Types</h2>
                <p>AgentSea provides four memory store implementations:</p>
                <div
                  class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 not-prose mb-8"
                >
                  <div class="p-4 bg-white rounded-lg border border-gray-200">
                    <div class="text-3xl mb-2">üíæ</div>
                    <h3 class="font-semibold text-gray-900 mb-2">
                      Buffer Memory
                    </h3>
                    <p class="text-sm text-gray-600 mb-3">
                      In-memory storage that keeps the most recent N messages
                    </p>
                    <div class="text-xs text-gray-500">
                      <strong>Best for:</strong>
                      <!-- -->Development, testing, simple applications
                    </div>
                  </div>
                  <div class="p-4 bg-white rounded-lg border border-gray-200">
                    <div class="text-3xl mb-2">üî¥</div>
                    <h3 class="font-semibold text-gray-900 mb-2">
                      Redis Memory
                    </h3>
                    <p class="text-sm text-gray-600 mb-3">
                      Persistent storage using Redis for production deployments
                    </p>
                    <div class="text-xs text-gray-500">
                      <strong>Best for:</strong>
                      <!-- -->Production, multi-server, high availability
                    </div>
                  </div>
                  <div class="p-4 bg-white rounded-lg border border-gray-200">
                    <div class="text-3xl mb-2">üìù</div>
                    <h3 class="font-semibold text-gray-900 mb-2">
                      Summary Memory
                    </h3>
                    <p class="text-sm text-gray-600 mb-3">
                      Automatically summarizes old messages to reduce token
                      usage
                    </p>
                    <div class="text-xs text-gray-500">
                      <strong>Best for:</strong>
                      <!-- -->Long conversations, cost optimization
                    </div>
                  </div>
                  <div class="p-4 bg-white rounded-lg border border-gray-200">
                    <div class="text-3xl mb-2">üè¢</div>
                    <h3 class="font-semibold text-gray-900 mb-2">
                      Tenant Buffer Memory
                    </h3>
                    <p class="text-sm text-gray-600 mb-3">
                      Multi-tenant aware memory with complete data isolation
                    </p>
                    <div class="text-xs text-gray-500">
                      <strong>Best for:</strong>
                      <!-- -->Multi-tenant SaaS applications
                    </div>
                  </div>
                </div>
                <h2>Buffer Memory</h2>
                <p>
                  Simple in-memory storage that keeps the most recent messages.
                  Fast and easy to use.
                </p>
                <div
                  class="my-6 rounded-lg overflow-hidden shadow-lg bg-gray-900 border border-base-300 relative group"
                >
                  <div
                    class="flex items-center justify-between bg-base-300 px-4 py-2 border-b border-base-content/10"
                  >
                    <span
                      class="text-xs font-semibold text-base-content/60 uppercase"
                      >typescript</span
                    ><button
                      class="btn btn-xs btn-ghost gap-1 opacity-70 hover:opacity-100 transition-opacity"
                      title="Copy to clipboard"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                        ></path></svg
                      ><span>Copy</span>
                    </button>
                  </div>
                  <div class="overflow-x-auto">
                    <pre
                      style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:0;overflow:auto;border-radius:0.3em;background:transparent;font-size:0.875rem"
                    ><code style="white-space:pre;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace"><span class="token" style="color:#96CBFE">import</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> Agent</span><span class="token" style="color:#c5c8c6">,</span><span> BufferMemory</span><span class="token" style="color:#c5c8c6">,</span><span> AnthropicProvider</span><span class="token" style="color:#c5c8c6">,</span><span> ToolRegistry </span><span class="token" style="color:#c5c8c6">}</span><span> </span><span class="token" style="color:#96CBFE">from</span><span> </span><span class="token" style="color:#A8FF60">&#x27;@lov3kaizen/agentsea-core&#x27;</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Create buffer memory with max 50 messages</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> memory </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">BufferMemory</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#FF73FD">50</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Create agent with memory</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> agent </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">Agent</span><span class="token" style="color:#c5c8c6">(</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    name</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;chat-agent&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    model</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;claude-sonnet-4-20250514&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    provider</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;anthropic&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    systemPrompt</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;You are a helpful assistant.&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">AnthropicProvider</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">ToolRegistry</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  memory</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#7C7C7C">// Pass memory to agent</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// First conversation</span><span>
</span><span></span><span class="token" style="color:#96CBFE">await</span><span> agent</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">execute</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;My name is Alice&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  conversationId</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;user-123&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  sessionData</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  history</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#c5c8c6">[</span><span class="token" style="color:#c5c8c6">]</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Agent remembers from previous message</span><span>
</span><span></span><span class="token" style="color:#96CBFE">await</span><span> agent</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">execute</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;What is my name?&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  conversationId</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;user-123&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  sessionData</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  history</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#c5c8c6">[</span><span class="token" style="color:#c5c8c6">]</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span></span><span class="token" style="color:#7C7C7C">// Response: &quot;Your name is Alice&quot;</span></code></pre>
                  </div>
                </div>
                <h2>Redis Memory</h2>
                <p>
                  Persistent storage using Redis. Ideal for production
                  applications with multiple servers.
                </p>
                <div
                  class="my-6 rounded-lg overflow-hidden shadow-lg bg-gray-900 border border-base-300 relative group"
                >
                  <div
                    class="flex items-center justify-between bg-base-300 px-4 py-2 border-b border-base-content/10"
                  >
                    <span
                      class="text-xs font-semibold text-base-content/60 uppercase"
                      >typescript</span
                    ><button
                      class="btn btn-xs btn-ghost gap-1 opacity-70 hover:opacity-100 transition-opacity"
                      title="Copy to clipboard"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                        ></path></svg
                      ><span>Copy</span>
                    </button>
                  </div>
                  <div class="overflow-x-auto">
                    <pre
                      style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:0;overflow:auto;border-radius:0.3em;background:transparent;font-size:0.875rem"
                    ><code style="white-space:pre;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace"><span class="token" style="color:#96CBFE">import</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> Agent</span><span class="token" style="color:#c5c8c6">,</span><span> RedisMemory</span><span class="token" style="color:#c5c8c6">,</span><span> AnthropicProvider</span><span class="token" style="color:#c5c8c6">,</span><span> ToolRegistry </span><span class="token" style="color:#c5c8c6">}</span><span> </span><span class="token" style="color:#96CBFE">from</span><span> </span><span class="token" style="color:#A8FF60">&#x27;@lov3kaizen/agentsea-core&#x27;</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Create Redis memory</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> memory </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">RedisMemory</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  url</span><span class="token" style="color:#EDEDED">:</span><span> process</span><span class="token" style="color:#c5c8c6">.</span><span>env</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#99CC99">REDIS_URL</span><span> </span><span class="token" style="color:#EDEDED">||</span><span> </span><span class="token" style="color:#A8FF60">&#x27;redis://localhost:6379&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  ttl</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#FF73FD">86400</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#7C7C7C">// 24 hours (optional)</span><span>
</span><span>  keyPrefix</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;agent:&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#7C7C7C">// Optional key prefix</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Create agent with Redis memory</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> agent </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">Agent</span><span class="token" style="color:#c5c8c6">(</span><span>
</span><span>  config</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">AnthropicProvider</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">ToolRegistry</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  memory</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Memory persists across server restarts</span><span>
</span><span></span><span class="token" style="color:#96CBFE">await</span><span> agent</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">execute</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;Remember: my favorite color is blue&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> context</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Later, even after server restart</span><span>
</span><span></span><span class="token" style="color:#96CBFE">await</span><span> agent</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">execute</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;What is my favorite color?&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> context</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span></span><span class="token" style="color:#7C7C7C">// Response: &quot;Your favorite color is blue&quot;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Cleanup when done</span><span>
</span><span></span><span class="token" style="color:#96CBFE">await</span><span> memory</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">disconnect</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span></code></pre>
                  </div>
                </div>
                <h2>Summary Memory</h2>
                <p>
                  Automatically summarizes old messages to maintain context
                  while reducing token usage.
                </p>
                <div
                  class="my-6 rounded-lg overflow-hidden shadow-lg bg-gray-900 border border-base-300 relative group"
                >
                  <div
                    class="flex items-center justify-between bg-base-300 px-4 py-2 border-b border-base-content/10"
                  >
                    <span
                      class="text-xs font-semibold text-base-content/60 uppercase"
                      >typescript</span
                    ><button
                      class="btn btn-xs btn-ghost gap-1 opacity-70 hover:opacity-100 transition-opacity"
                      title="Copy to clipboard"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                        ></path></svg
                      ><span>Copy</span>
                    </button>
                  </div>
                  <div class="overflow-x-auto">
                    <pre
                      style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:0;overflow:auto;border-radius:0.3em;background:transparent;font-size:0.875rem"
                    ><code style="white-space:pre;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace"><span class="token" style="color:#96CBFE">import</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> Agent</span><span class="token" style="color:#c5c8c6">,</span><span> SummaryMemory</span><span class="token" style="color:#c5c8c6">,</span><span> AnthropicProvider</span><span class="token" style="color:#c5c8c6">,</span><span> ToolRegistry </span><span class="token" style="color:#c5c8c6">}</span><span> </span><span class="token" style="color:#96CBFE">from</span><span> </span><span class="token" style="color:#A8FF60">&#x27;@lov3kaizen/agentsea-core&#x27;</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Create summary memory</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> memory </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">SummaryMemory</span><span class="token" style="color:#c5c8c6">(</span><span>
</span><span>  </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">AnthropicProvider</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    maxMessages</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#FF73FD">20</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#7C7C7C">// Keep last 20 messages</span><span>
</span><span>    summaryModel</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;claude-haiku-4-20250514&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#7C7C7C">// Use fast model for summaries</span><span>
</span><span>    summaryPrompt</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;Summarize the key points from this conversation:&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#7C7C7C">// Optional</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Create agent</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> agent </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">Agent</span><span class="token" style="color:#c5c8c6">(</span><span>
</span><span>  config</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">AnthropicProvider</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">ToolRegistry</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  memory</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// As conversation grows, old messages are automatically summarized</span><span>
</span><span></span><span class="token" style="color:#7C7C7C">// This keeps token usage low while maintaining context</span></code></pre>
                  </div>
                </div>
                <h2>Memory Interface</h2>
                <p>All memory stores implement the same interface:</p>
                <div
                  class="my-6 rounded-lg overflow-hidden shadow-lg bg-gray-900 border border-base-300 relative group"
                >
                  <div
                    class="flex items-center justify-between bg-base-300 px-4 py-2 border-b border-base-content/10"
                  >
                    <span
                      class="text-xs font-semibold text-base-content/60 uppercase"
                      >typescript</span
                    ><button
                      class="btn btn-xs btn-ghost gap-1 opacity-70 hover:opacity-100 transition-opacity"
                      title="Copy to clipboard"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                        ></path></svg
                      ><span>Copy</span>
                    </button>
                  </div>
                  <div class="overflow-x-auto">
                    <pre
                      style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:0;overflow:auto;border-radius:0.3em;background:transparent;font-size:0.875rem"
                    ><code style="white-space:pre;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace"><span class="token" style="color:#96CBFE">interface</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">MemoryStore</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  </span><span class="token" style="color:#7C7C7C">// Save messages for a conversation</span><span>
</span><span>  </span><span class="token" style="color:#DAD085">save</span><span class="token" style="color:#c5c8c6">(</span><span>conversationId</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">string</span><span class="token" style="color:#c5c8c6">,</span><span> messages</span><span class="token" style="color:#EDEDED">:</span><span> Message</span><span class="token" style="color:#c5c8c6">[</span><span class="token" style="color:#c5c8c6">]</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">Promise</span><span class="token" style="color:#EDEDED">&lt;</span><span class="token" style="color:#96CBFE">void</span><span class="token" style="color:#EDEDED">&gt;</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span>  </span><span class="token" style="color:#7C7C7C">// Load messages for a conversation</span><span>
</span><span>  </span><span class="token" style="color:#DAD085">load</span><span class="token" style="color:#c5c8c6">(</span><span>conversationId</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">string</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">Promise</span><span class="token" style="color:#EDEDED">&lt;</span><span>Message</span><span class="token" style="color:#c5c8c6">[</span><span class="token" style="color:#c5c8c6">]</span><span class="token" style="color:#EDEDED">&gt;</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span>  </span><span class="token" style="color:#7C7C7C">// Clear messages for a conversation</span><span>
</span><span>  </span><span class="token" style="color:#DAD085">clear</span><span class="token" style="color:#c5c8c6">(</span><span>conversationId</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">string</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">Promise</span><span class="token" style="color:#EDEDED">&lt;</span><span class="token" style="color:#96CBFE">void</span><span class="token" style="color:#EDEDED">&gt;</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span>  </span><span class="token" style="color:#7C7C7C">// Optional: Check if conversation exists</span><span>
</span><span>  exists</span><span class="token" style="color:#EDEDED">?</span><span class="token" style="color:#c5c8c6">(</span><span>conversationId</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">string</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">Promise</span><span class="token" style="color:#EDEDED">&lt;</span><span class="token" style="color:#A8FF60">boolean</span><span class="token" style="color:#EDEDED">&gt;</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span></code></pre>
                  </div>
                </div>
                <h2>Custom Memory Store</h2>
                <p>
                  Create your own memory store by implementing the MemoryStore
                  interface:
                </p>
                <div
                  class="my-6 rounded-lg overflow-hidden shadow-lg bg-gray-900 border border-base-300 relative group"
                >
                  <div
                    class="flex items-center justify-between bg-base-300 px-4 py-2 border-b border-base-content/10"
                  >
                    <span
                      class="text-xs font-semibold text-base-content/60 uppercase"
                      >typescript</span
                    ><button
                      class="btn btn-xs btn-ghost gap-1 opacity-70 hover:opacity-100 transition-opacity"
                      title="Copy to clipboard"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                        ></path></svg
                      ><span>Copy</span>
                    </button>
                  </div>
                  <div class="overflow-x-auto">
                    <pre
                      style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:0;overflow:auto;border-radius:0.3em;background:transparent;font-size:0.875rem"
                    ><code style="white-space:pre;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace"><span class="token" style="color:#96CBFE">import</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> MemoryStore</span><span class="token" style="color:#c5c8c6">,</span><span> Message </span><span class="token" style="color:#c5c8c6">}</span><span> </span><span class="token" style="color:#96CBFE">from</span><span> </span><span class="token" style="color:#A8FF60">&#x27;@lov3kaizen/agentsea-core&#x27;</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#96CBFE">export</span><span> </span><span class="token" style="color:#96CBFE">class</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">DatabaseMemory</span><span> </span><span class="token" style="color:#96CBFE">implements</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">MemoryStore</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  </span><span class="token" style="color:#96CBFE">private</span><span> db</span><span class="token" style="color:#EDEDED">:</span><span> Database</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span>  </span><span class="token" style="color:#DAD085">constructor</span><span class="token" style="color:#c5c8c6">(</span><span>databaseConnection</span><span class="token" style="color:#EDEDED">:</span><span> Database</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    </span><span class="token" style="color:#96CBFE">this</span><span class="token" style="color:#c5c8c6">.</span><span>db </span><span class="token" style="color:#EDEDED">=</span><span> databaseConnection</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span>
</span>
<span>  </span><span class="token" style="color:#96CBFE">async</span><span> </span><span class="token" style="color:#DAD085">save</span><span class="token" style="color:#c5c8c6">(</span><span>conversationId</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">string</span><span class="token" style="color:#c5c8c6">,</span><span> messages</span><span class="token" style="color:#EDEDED">:</span><span> Message</span><span class="token" style="color:#c5c8c6">[</span><span class="token" style="color:#c5c8c6">]</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">Promise</span><span class="token" style="color:#EDEDED">&lt;</span><span class="token" style="color:#96CBFE">void</span><span class="token" style="color:#EDEDED">&gt;</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    </span><span class="token" style="color:#96CBFE">await</span><span> </span><span class="token" style="color:#96CBFE">this</span><span class="token" style="color:#c5c8c6">.</span><span>db</span><span class="token" style="color:#c5c8c6">.</span><span>conversations</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">upsert</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>      where</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> id</span><span class="token" style="color:#EDEDED">:</span><span> conversationId </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>      update</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>        messages</span><span class="token" style="color:#EDEDED">:</span><span> messages</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>        updatedAt</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">Date</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>      </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>      create</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>        id</span><span class="token" style="color:#EDEDED">:</span><span> conversationId</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>        messages</span><span class="token" style="color:#EDEDED">:</span><span> messages</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>        createdAt</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">Date</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>      </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span>
</span>
<span>  </span><span class="token" style="color:#96CBFE">async</span><span> </span><span class="token" style="color:#DAD085">load</span><span class="token" style="color:#c5c8c6">(</span><span>conversationId</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">string</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">Promise</span><span class="token" style="color:#EDEDED">&lt;</span><span>Message</span><span class="token" style="color:#c5c8c6">[</span><span class="token" style="color:#c5c8c6">]</span><span class="token" style="color:#EDEDED">&gt;</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    </span><span class="token" style="color:#96CBFE">const</span><span> conversation </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">await</span><span> </span><span class="token" style="color:#96CBFE">this</span><span class="token" style="color:#c5c8c6">.</span><span>db</span><span class="token" style="color:#c5c8c6">.</span><span>conversations</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">findUnique</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>      where</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> id</span><span class="token" style="color:#EDEDED">:</span><span> conversationId </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span>    </span><span class="token" style="color:#96CBFE">return</span><span> conversation</span><span class="token" style="color:#EDEDED">?.</span><span>messages </span><span class="token" style="color:#EDEDED">||</span><span> </span><span class="token" style="color:#c5c8c6">[</span><span class="token" style="color:#c5c8c6">]</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span>
</span>
<span>  </span><span class="token" style="color:#96CBFE">async</span><span> </span><span class="token" style="color:#DAD085">clear</span><span class="token" style="color:#c5c8c6">(</span><span>conversationId</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">string</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">Promise</span><span class="token" style="color:#EDEDED">&lt;</span><span class="token" style="color:#96CBFE">void</span><span class="token" style="color:#EDEDED">&gt;</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    </span><span class="token" style="color:#96CBFE">await</span><span> </span><span class="token" style="color:#96CBFE">this</span><span class="token" style="color:#c5c8c6">.</span><span>db</span><span class="token" style="color:#c5c8c6">.</span><span>conversations</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">update</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>      where</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> id</span><span class="token" style="color:#EDEDED">:</span><span> conversationId </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>      data</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> messages</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#c5c8c6">[</span><span class="token" style="color:#c5c8c6">]</span><span> </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span>
</span>
<span>  </span><span class="token" style="color:#96CBFE">async</span><span> </span><span class="token" style="color:#DAD085">exists</span><span class="token" style="color:#c5c8c6">(</span><span>conversationId</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">string</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">Promise</span><span class="token" style="color:#EDEDED">&lt;</span><span class="token" style="color:#A8FF60">boolean</span><span class="token" style="color:#EDEDED">&gt;</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    </span><span class="token" style="color:#96CBFE">const</span><span> count </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">await</span><span> </span><span class="token" style="color:#96CBFE">this</span><span class="token" style="color:#c5c8c6">.</span><span>db</span><span class="token" style="color:#c5c8c6">.</span><span>conversations</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">count</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>      where</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> id</span><span class="token" style="color:#EDEDED">:</span><span> conversationId </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span>    </span><span class="token" style="color:#96CBFE">return</span><span> count </span><span class="token" style="color:#EDEDED">&gt;</span><span> </span><span class="token" style="color:#FF73FD">0</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Use custom memory</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> memory </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">DatabaseMemory</span><span class="token" style="color:#c5c8c6">(</span><span>prismaClient</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> agent </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">Agent</span><span class="token" style="color:#c5c8c6">(</span><span>config</span><span class="token" style="color:#c5c8c6">,</span><span> provider</span><span class="token" style="color:#c5c8c6">,</span><span> toolRegistry</span><span class="token" style="color:#c5c8c6">,</span><span> memory</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span></code></pre>
                  </div>
                </div>
                <h2>Tenant Buffer Memory</h2>
                <p>
                  Multi-tenant aware memory that isolates conversation data by
                  tenant. Essential for multi-tenant applications.
                </p>
                <div
                  class="my-6 rounded-lg overflow-hidden shadow-lg bg-gray-900 border border-base-300 relative group"
                >
                  <div
                    class="flex items-center justify-between bg-base-300 px-4 py-2 border-b border-base-content/10"
                  >
                    <span
                      class="text-xs font-semibold text-base-content/60 uppercase"
                      >typescript</span
                    ><button
                      class="btn btn-xs btn-ghost gap-1 opacity-70 hover:opacity-100 transition-opacity"
                      title="Copy to clipboard"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                        ></path></svg
                      ><span>Copy</span>
                    </button>
                  </div>
                  <div class="overflow-x-auto">
                    <pre
                      style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:0;overflow:auto;border-radius:0.3em;background:transparent;font-size:0.875rem"
                    ><code style="white-space:pre;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace"><span class="token" style="color:#96CBFE">import</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> Agent</span><span class="token" style="color:#c5c8c6">,</span><span> TenantBufferMemory</span><span class="token" style="color:#c5c8c6">,</span><span> AnthropicProvider</span><span class="token" style="color:#c5c8c6">,</span><span> ToolRegistry </span><span class="token" style="color:#c5c8c6">}</span><span> </span><span class="token" style="color:#96CBFE">from</span><span> </span><span class="token" style="color:#A8FF60">&#x27;@lov3kaizen/agentsea-core&#x27;</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Create tenant-aware memory</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> memory </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">TenantBufferMemory</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">{</span><span> maxMessages</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#FF73FD">50</span><span> </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Create agent with tenant memory</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> agent </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">Agent</span><span class="token" style="color:#c5c8c6">(</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    name</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;support-agent&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    model</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;claude-sonnet-4-20250514&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    provider</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;anthropic&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    systemPrompt</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;You are a customer support assistant.&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">AnthropicProvider</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">ToolRegistry</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">{</span><span> type</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;custom&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> store</span><span class="token" style="color:#EDEDED">:</span><span> memory </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Save conversation for specific tenant</span><span>
</span><span></span><span class="token" style="color:#96CBFE">await</span><span> memory</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">save</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;tenant-123&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#A8FF60">&#x27;conv-456&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">[</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">{</span><span> role</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;user&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> content</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;How do I upgrade my plan?&#x27;</span><span> </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">{</span><span> role</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;assistant&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> content</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;I can help you upgrade your plan...&#x27;</span><span> </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">]</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Load conversation only for this tenant</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> history </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">await</span><span> memory</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">load</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;tenant-123&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#A8FF60">&#x27;conv-456&#x27;</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Complete tenant isolation - Tenant A cannot access Tenant B&#x27;s data</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> tenantAHistory </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">await</span><span> memory</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">load</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;tenant-a&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#A8FF60">&#x27;conv-1&#x27;</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span> </span><span class="token" style="color:#7C7C7C">// ‚úÖ Returns tenant A&#x27;s data</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> tenantBHistory </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">await</span><span> memory</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">load</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;tenant-b&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#A8FF60">&#x27;conv-1&#x27;</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span> </span><span class="token" style="color:#7C7C7C">// ‚úÖ Returns tenant B&#x27;s data (different)</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Clear tenant-specific conversation</span><span>
</span><span></span><span class="token" style="color:#96CBFE">await</span><span> memory</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">clear</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;tenant-123&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#A8FF60">&#x27;conv-456&#x27;</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Get all conversation IDs for a tenant</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> conversationIds </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">await</span><span> memory</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">getConversationIds</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;tenant-123&#x27;</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span></code></pre>
                  </div>
                </div>
                <div
                  class="bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8"
                >
                  <h3 class="text-lg font-semibold mb-2">
                    üè¢ Multi-Tenancy Support
                  </h3>
                  <p class="mb-0">
                    TenantBufferMemory provides complete data isolation between
                    tenants, ensuring that one tenant&#x27;s conversations are
                    never accessible to another. Use this with the
                    <a
                      class="text-blue-600 hover:underline"
                      href="/docs/multi-tenancy/"
                      >Multi-Tenancy system</a
                    >
                    for production SaaS applications.
                  </p>
                </div>
                <h2>Managing Conversation History</h2>
                <p>Control how conversation history is managed:</p>
                <div
                  class="my-6 rounded-lg overflow-hidden shadow-lg bg-gray-900 border border-base-300 relative group"
                >
                  <div
                    class="flex items-center justify-between bg-base-300 px-4 py-2 border-b border-base-content/10"
                  >
                    <span
                      class="text-xs font-semibold text-base-content/60 uppercase"
                      >typescript</span
                    ><button
                      class="btn btn-xs btn-ghost gap-1 opacity-70 hover:opacity-100 transition-opacity"
                      title="Copy to clipboard"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                        ></path></svg
                      ><span>Copy</span>
                    </button>
                  </div>
                  <div class="overflow-x-auto">
                    <pre
                      style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:0;overflow:auto;border-radius:0.3em;background:transparent;font-size:0.875rem"
                    ><code style="white-space:pre;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace"><span class="token" style="color:#7C7C7C">// Clear conversation history</span><span>
</span><span></span><span class="token" style="color:#96CBFE">await</span><span> memory</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">clear</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;conversation-123&#x27;</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Load existing history</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> history </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">await</span><span> memory</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">load</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;conversation-123&#x27;</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Pass history directly to agent</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> response </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">await</span><span> agent</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">execute</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;Hello&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  conversationId</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;user-123&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  sessionData</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  history</span><span class="token" style="color:#EDEDED">:</span><span> history</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#7C7C7C">// Use pre-loaded history</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Check if conversation exists</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> exists </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">await</span><span> memory</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">exists</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;conversation-123&#x27;</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span></span><span class="token" style="color:#96CBFE">if</span><span> </span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#EDEDED">!</span><span>exists</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  </span><span class="token" style="color:#A8FF60">console</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">log</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;Starting new conversation&#x27;</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span></code></pre>
                  </div>
                </div>
                <h2>Session Data</h2>
                <p>Store additional context alongside messages:</p>
                <div
                  class="my-6 rounded-lg overflow-hidden shadow-lg bg-gray-900 border border-base-300 relative group"
                >
                  <div
                    class="flex items-center justify-between bg-base-300 px-4 py-2 border-b border-base-content/10"
                  >
                    <span
                      class="text-xs font-semibold text-base-content/60 uppercase"
                      >typescript</span
                    ><button
                      class="btn btn-xs btn-ghost gap-1 opacity-70 hover:opacity-100 transition-opacity"
                      title="Copy to clipboard"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                        ></path></svg
                      ><span>Copy</span>
                    </button>
                  </div>
                  <div class="overflow-x-auto">
                    <pre
                      style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:0;overflow:auto;border-radius:0.3em;background:transparent;font-size:0.875rem"
                    ><code style="white-space:pre;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace"><span class="token" style="color:#96CBFE">const</span><span> context </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  conversationId</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;user-123&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  sessionData</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    userId</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;12345&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    userName</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;Alice&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    preferences</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>      language</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;en&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>      timezone</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;America/Los_Angeles&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    metadata</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>      source</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;web&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>      device</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;desktop&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  history</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#c5c8c6">[</span><span class="token" style="color:#c5c8c6">]</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#96CBFE">const</span><span> response </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">await</span><span> agent</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">execute</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;What time is it?&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> context</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Agent can reference session data in responses</span><span>
</span><span></span><span class="token" style="color:#7C7C7C">// &quot;Based on your timezone (America/Los_Angeles), it is currently...&quot;</span></code></pre>
                  </div>
                </div>
                <h2>Memory Best Practices</h2>
                <h3>Choosing the Right Memory Store</h3>
                <ul>
                  <li>
                    <strong>BufferMemory</strong>: Development, testing,
                    single-server apps
                  </li>
                  <li>
                    <strong>RedisMemory</strong>: Production, multi-server, high
                    availability
                  </li>
                  <li>
                    <strong>SummaryMemory</strong>: Long conversations, token
                    optimization
                  </li>
                  <li>
                    <strong>TenantBufferMemory</strong>: Multi-tenant SaaS
                    applications requiring data isolation
                  </li>
                </ul>
                <h3>Memory Configuration</h3>
                <ul>
                  <li>
                    Set appropriate message limits to balance context and token
                    usage
                  </li>
                  <li>
                    Use TTL in Redis to automatically expire old conversations
                  </li>
                  <li>
                    Implement cleanup jobs to remove inactive conversations
                  </li>
                  <li>Monitor memory usage in production environments</li>
                </ul>
                <h3>Privacy and Security</h3>
                <ul>
                  <li>Encrypt sensitive data before storing in memory</li>
                  <li>Implement data retention policies</li>
                  <li>
                    Provide user controls to delete their conversation history
                  </li>
                  <li>
                    Use conversation IDs that don&#x27;t expose user information
                  </li>
                </ul>
                <h2>Comparison Table</h2>
                <div
                  class="bg-white rounded-lg border border-gray-200 overflow-hidden mb-6"
                >
                  <table class="min-w-full divide-y divide-gray-200">
                    <thead class="bg-gray-50">
                      <tr>
                        <th
                          class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                          Feature
                        </th>
                        <th
                          class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                          Buffer
                        </th>
                        <th
                          class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                          Redis
                        </th>
                        <th
                          class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                          Summary
                        </th>
                        <th
                          class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                          Tenant Buffer
                        </th>
                      </tr>
                    </thead>
                    <tbody class="bg-white divide-y divide-gray-200">
                      <tr>
                        <td
                          class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"
                        >
                          Persistence
                        </td>
                        <td
                          class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                        >
                          ‚ùå No
                        </td>
                        <td
                          class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                        >
                          ‚úÖ Yes
                        </td>
                        <td
                          class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                        >
                          ‚ö†Ô∏è Depends
                        </td>
                        <td
                          class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                        >
                          ‚ùå No
                        </td>
                      </tr>
                      <tr>
                        <td
                          class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"
                        >
                          Speed
                        </td>
                        <td
                          class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                        >
                          ‚ö° Fastest
                        </td>
                        <td
                          class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                        >
                          ‚ö° Fast
                        </td>
                        <td
                          class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                        >
                          üê¢ Slower
                        </td>
                        <td
                          class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                        >
                          ‚ö° Fastest
                        </td>
                      </tr>
                      <tr>
                        <td
                          class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"
                        >
                          Scalability
                        </td>
                        <td
                          class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                        >
                          ‚ùå Single server
                        </td>
                        <td
                          class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                        >
                          ‚úÖ Multi-server
                        </td>
                        <td
                          class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                        >
                          ‚ö†Ô∏è Depends
                        </td>
                        <td
                          class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                        >
                          ‚úÖ Multi-tenant
                        </td>
                      </tr>
                      <tr>
                        <td
                          class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"
                        >
                          Token Usage
                        </td>
                        <td
                          class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                        >
                          ‚ö†Ô∏è Medium
                        </td>
                        <td
                          class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                        >
                          ‚ö†Ô∏è Medium
                        </td>
                        <td
                          class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                        >
                          ‚úÖ Optimized
                        </td>
                        <td
                          class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                        >
                          ‚ö†Ô∏è Medium
                        </td>
                      </tr>
                      <tr>
                        <td
                          class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"
                        >
                          Setup
                        </td>
                        <td
                          class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                        >
                          ‚úÖ Simple
                        </td>
                        <td
                          class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                        >
                          ‚ö†Ô∏è Redis required
                        </td>
                        <td
                          class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                        >
                          ‚ö†Ô∏è Extra LLM calls
                        </td>
                        <td
                          class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                        >
                          ‚úÖ Simple
                        </td>
                      </tr>
                      <tr>
                        <td
                          class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"
                        >
                          Tenant Isolation
                        </td>
                        <td
                          class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                        >
                          ‚ùå No
                        </td>
                        <td
                          class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                        >
                          ‚ö†Ô∏è Manual
                        </td>
                        <td
                          class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                        >
                          ‚ö†Ô∏è Manual
                        </td>
                        <td
                          class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"
                        >
                          ‚úÖ Built-in
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <h2>Next Steps</h2>
                <ul>
                  <li><a href="/docs/agents/">Learn more about Agents</a></li>
                  <li>
                    <a href="/docs/workflows/">Use Memory in Workflows</a>
                  </li>
                  <li><a href="/examples/">View Memory Examples</a></li>
                </ul>
              </div>
            </div>
          </div>
          <!--$--><!--/$-->
        </main>
        <footer class="footer footer-center bg-base-200 text-base-content p-10">
          <nav class="grid grid-flow-col gap-4">
            <a class="link link-hover" href="/docs/voice/">Voice Features</a
            ><a class="link link-hover" href="/docs/local-models/"
              >Local Models</a
            ><a class="link link-hover" href="/docs/cli/">CLI Tool</a
            ><a class="link link-hover" href="/api/">REST API</a>
          </nav>
          <nav class="grid grid-flow-col gap-4">
            <a
              href="https://github.com/lov3kaizen/agentsea"
              class="link link-hover"
              >GitHub</a
            ><a
              href="https://github.com/lov3kaizen/agentsea/discussions"
              class="link link-hover"
              >Discussions</a
            ><a
              href="https://github.com/lov3kaizen/agentsea/issues"
              class="link link-hover"
              >Issues</a
            >
          </nav>
          <aside><p>¬© 2025 AgentSea ADK. MIT License.</p></aside>
        </footer>
      </div>
      <div class="drawer-side border border-r-1 border-y-0 border-l-0">
        <label for="main-drawer" class="drawer-overlay"></label>
        <aside class="bg-base-200 min-h-full w-80">
          <ul class="menu p-4">
            <li>
              <h2 class="menu-title">Getting Started</h2>
              <ul>
                <li class="pl-2">
                  <a class="active:text-white" href="/">Home</a>
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/">Documentation</a>
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/installation/"
                    >Installation</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/quick-start/"
                    >Quick Start</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/cli/">CLI Tool</a>
                </li>
              </ul>
            </li>
            <li>
              <h2 class="menu-title">Core Concepts</h2>
              <ul>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/agents/">Agents</a>
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/providers/"
                    >Providers</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/local-providers/"
                    >Local Providers</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/tools/">Tools</a>
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/workflows/"
                    >Workflows</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/memory/">Memory</a>
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/formatting/"
                    >Content Formatting</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/conversation/"
                    >Conversation</a
                  >
                </li>
              </ul>
            </li>
            <li>
              <h2 class="menu-title">Features</h2>
              <ul>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/voice/"
                    >Voice (TTS/STT)</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/local-models/"
                    >Local Models</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/acp-integration/"
                    >ACP Commerce</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/api/"
                    >REST API &amp; Streaming</a
                  >
                </li>
              </ul>
            </li>
            <li>
              <h2 class="menu-title">MCP Integration</h2>
              <ul>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/mcp-overview/"
                    >Overview</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/mcp-servers/"
                    >MCP Servers</a
                  >
                </li>
              </ul>
            </li>
            <li>
              <h2 class="menu-title">Advanced</h2>
              <ul>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/multi-tenancy/"
                    >Multi-Tenancy</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/observability/"
                    >Observability</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/nestjs/"
                    >NestJS Integration</a
                  >
                </li>
              </ul>
            </li>
            <li>
              <h2 class="menu-title">Resources</h2>
              <ul>
                <li class="pl-2">
                  <a class="active:text-white" href="/examples/">Examples</a>
                </li>
              </ul>
            </li>
          </ul>
        </aside>
      </div>
    </div>
    <script
      src="/_next/static/chunks/webpack-1b7e2f9af6e0232d.js"
      id="_R_"
      async=""
    ></script>
    <script>
      (self.__next_f = self.__next_f || []).push([0]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '1:"$Sreact.fragment"\n2:I[1275,["619","static/chunks/619-ba102abea3e3d0e4.js","543","static/chunks/543-a0960cd7f2b1c22c.js","177","static/chunks/app/layout-b0f860a3d9150669.js"],"default"]\n3:I[9766,[],""]\n4:I[8924,[],""]\n30:I[7150,[],""]\n:HL["/_next/static/media/e4af272ccee01ff0-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]\n:HL["/_next/static/css/7e7d96b1e6991756.css","style"]\n:HL["/_next/static/css/1145ad3a91ffb5c9.css","style"]\n:HL["/_next/static/css/7a622664f4c377b7.css","style"]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '0:{"P":null,"b":"BR2GXXFimfBinRJoMr3YY","p":"","c":["","docs","memory",""],"i":false,"f":[[["",{"children":["docs",{"children":["memory",{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/7e7d96b1e6991756.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/1145ad3a91ffb5c9.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","2",{"rel":"stylesheet","href":"/_next/static/css/7a622664f4c377b7.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"en","data-theme":"cmyk","children":["$","body",null,{"className":"__className_f367f3","children":["$","$L2",null,{"children":["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\\"Segoe UI\\",Roboto,Helvetica,Arial,sans-serif,\\"Apple Color Emoji\\",\\"Segoe UI Emoji\\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]}]}]]}],{"children":["docs",["$","$1","c",{"children":[null,["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["memory",["$","$1","c",{"children":[null,["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":[["$","div",null,{"className":"min-h-screen bg-base-100","children":["$","div",null,{"className":"container mx-auto px-6 py-12 max-w-5xl ","children":[["$","div",null,{"className":"mb-12","children":[["$","h1",null,{"className":"text-5xl font-bold mb-4","children":"Memory"}],["$","p",null,{"className":"text-xl text-base-content/70","children":"Memory stores enable agents to maintain conversation context across multiple interactions, providing continuity and personalization."}]]}],["$","div",null,{"className":"prose max-w-none","children":[["$","h2",null,{"children":"Memory Types"}],["$","p",null,{"children":"AgentSea  provides four memory store implementations:"}],["$","div",null,{"className":"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 not-prose mb-8","children":[["$","div","0",{"className":"p-4 bg-white rounded-lg border border-gray-200","children":[["$","div",null,{"className":"text-3xl mb-2","children":"üíæ"}],["$","h3",null,{"className":"font-semibold text-gray-900 mb-2","children":"Buffer Memory"}],["$","p",null,{"className":"text-sm text-gray-600 mb-3","children":"In-memory storage that keeps the most recent N messages"}],["$","div",null,{"className":"text-xs text-gray-500","children":[["$","strong",null,{"children":"Best for:"}]," ","Development, testing, simple applications"]}]]}],["$","div","1",{"className":"p-4 bg-white rounded-lg border border-gray-200","children":[["$","div",null,{"className":"text-3xl mb-2","children":"üî¥"}],["$","h3",null,{"className":"font-semibold text-gray-900 mb-2","children":"Redis Memory"}],["$","p",null,{"className":"text-sm text-gray-600 mb-3","children":"Persistent storage using Redis for production deployments"}],["$","div",null,{"className":"text-xs text-gray-500","children":[["$","strong",null,{"children":"Best for:"}]," ","Production, multi-server, high availability"]}]]}],["$","div","2",{"className":"p-4 bg-white rounded-lg border border-gray-200","children":["$L5","$L6","$L7","$L8"]}],"$L9"]}],"$La","$Lb","$Lc","$Ld","$Le","$Lf","$L10","$L11","$L12","$L13","$L14","$L15","$L16","$L17","$L18","$L19","$L1a","$L1b","$L1c","$L1d","$L1e","$L1f","$L20","$L21","$L22","$L23","$L24","$L25","$L26","$L27","$L28","$L29","$L2a","$L2b","$L2c","$L2d"]}]]}]}],null,"$L2e"]}],{},null,false]},null,false]},null,false]},null,false],"$L2f",false]],"m":"$undefined","G":["$30",[]],"s":false,"S":true}\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '31:I[8467,["619","static/chunks/619-ba102abea3e3d0e4.js","501","static/chunks/501-26489c9c153fdafc.js","790","static/chunks/app/docs/memory/page-1661e6a98b49e8b6.js"],"CodeBlock"]\n34:I[2619,["619","static/chunks/619-ba102abea3e3d0e4.js","501","static/chunks/501-26489c9c153fdafc.js","790","static/chunks/app/docs/memory/page-1661e6a98b49e8b6.js"],""]\n38:I[4431,[],"OutletBoundary"]\n3a:I[5278,[],"AsyncMetadataOutlet"]\n3c:I[4431,[],"ViewportBoundary"]\n3e:I[4431,[],"MetadataBoundary"]\n3f:"$Sreact.suspense"\n5:["$","div",null,{"className":"text-3xl mb-2","children":"üìù"}]\n6:["$","h3",null,{"className":"font-semibold text-gray-900 mb-2","children":"Summary Memory"}]\n7:["$","p",null,{"className":"text-sm text-gray-600 mb-3","children":"Automatically summarizes old messages to reduce token usage"}]\n8:["$","div",null,{"className":"text-xs text-gray-500","children":[["$","strong",null,{"children":"Best for:"}]," ","Long conversations, cost optimization"]}]\n9:["$","div","3",{"className":"p-4 bg-white rounded-lg border border-gray-200","children":[["$","div",null,{"className":"text-3xl mb-2","children":"üè¢"}],["$","h3",null,{"className":"font-semibold text-gray-900 mb-2","children":"Tenant Buffer Memory"}],["$","p",null,{"className":"text-sm text-gray-600 mb-3","children":"Multi-tenant aware memory with complete data isolation"}],["$","div",null,{"className":"text-xs text-gray-500","children":[["$","strong",null,{"children":"Best for:"}]," ","Multi-tenant SaaS applications"]}]]}]\na:["$","h2",null,{"children":"Buffer Memory"}]\nb:["$","p",null,{"children":"Simple in-memory storage that keeps the most recent messages. Fast and easy to use."}]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        "c:[\"$\",\"$L31\",null,{\"language\":\"typescript\",\"children\":\"import { Agent, BufferMemory, AnthropicProvider, ToolRegistry } from '@lov3kaizen/agentsea-core';\\n\\n// Create buffer memory with max 50 messages\\nconst memory = new BufferMemory(50);\\n\\n// Create agent with memory\\nconst agent = new Agent(\\n  {\\n    name: 'chat-agent',\\n    model: 'claude-sonnet-4-20250514',\\n    provider: 'anthropic',\\n    systemPrompt: 'You are a helpful assistant.',\\n  },\\n  new AnthropicProvider(),\\n  new ToolRegistry(),\\n  memory, // Pass memory to agent\\n);\\n\\n// First conversation\\nawait agent.execute('My name is Alice', {\\n  conversationId: 'user-123',\\n  sessionData: {},\\n  history: [],\\n});\\n\\n// Agent remembers from previous message\\nawait agent.execute('What is my name?', {\\n  conversationId: 'user-123',\\n  sessionData: {},\\n  history: [],\\n});\\n// Response: \\\"Your name is Alice\\\"\"}]\n",
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        'd:["$","h2",null,{"children":"Redis Memory"}]\ne:["$","p",null,{"children":"Persistent storage using Redis. Ideal for production applications with multiple servers."}]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        'f:["$","$L31",null,{"language":"typescript","children":"import { Agent, RedisMemory, AnthropicProvider, ToolRegistry } from \'@lov3kaizen/agentsea-core\';\\n\\n// Create Redis memory\\nconst memory = new RedisMemory({\\n  url: process.env.REDIS_URL || \'redis://localhost:6379\',\\n  ttl: 86400, // 24 hours (optional)\\n  keyPrefix: \'agent:\', // Optional key prefix\\n});\\n\\n// Create agent with Redis memory\\nconst agent = new Agent(\\n  config,\\n  new AnthropicProvider(),\\n  new ToolRegistry(),\\n  memory,\\n);\\n\\n// Memory persists across server restarts\\nawait agent.execute(\'Remember: my favorite color is blue\', context);\\n\\n// Later, even after server restart\\nawait agent.execute(\'What is my favorite color?\', context);\\n// Response: \\"Your favorite color is blue\\"\\n\\n// Cleanup when done\\nawait memory.disconnect();"}]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '10:["$","h2",null,{"children":"Summary Memory"}]\n11:["$","p",null,{"children":"Automatically summarizes old messages to maintain context while reducing token usage."}]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '12:["$","$L31",null,{"language":"typescript","children":"import { Agent, SummaryMemory, AnthropicProvider, ToolRegistry } from \'@lov3kaizen/agentsea-core\';\\n\\n// Create summary memory\\nconst memory = new SummaryMemory(\\n  new AnthropicProvider(),\\n  {\\n    maxMessages: 20, // Keep last 20 messages\\n    summaryModel: \'claude-haiku-4-20250514\', // Use fast model for summaries\\n    summaryPrompt: \'Summarize the key points from this conversation:\', // Optional\\n  },\\n);\\n\\n// Create agent\\nconst agent = new Agent(\\n  config,\\n  new AnthropicProvider(),\\n  new ToolRegistry(),\\n  memory,\\n);\\n\\n// As conversation grows, old messages are automatically summarized\\n// This keeps token usage low while maintaining context"}]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '13:["$","h2",null,{"children":"Memory Interface"}]\n14:["$","p",null,{"children":"All memory stores implement the same interface:"}]\n15:["$","$L31",null,{"language":"typescript","children":"interface MemoryStore {\\n  // Save messages for a conversation\\n  save(conversationId: string, messages: Message[]): Promise\u003cvoid\u003e;\\n\\n  // Load messages for a conversation\\n  load(conversationId: string): Promise\u003cMessage[]\u003e;\\n\\n  // Clear messages for a conversation\\n  clear(conversationId: string): Promise\u003cvoid\u003e;\\n\\n  // Optional: Check if conversation exists\\n  exists?(conversationId: string): Promise\u003cboolean\u003e;\\n}"}]\n16:["$","h2",null,{"children":"Custom Memory Store"}]\n17:["$","p",null,{"children":"Create your own memory store by implementing the MemoryStore interface:"}]\n32:T50e,',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        "import { MemoryStore, Message } from '@lov3kaizen/agentsea-core';\n\nexport class DatabaseMemory implements MemoryStore {\n  private db: Database;\n\n  constructor(databaseConnection: Database) {\n    this.db = databaseConnection;\n  }\n\n  async save(conversationId: string, messages: Message[]): Promise\u003cvoid\u003e {\n    await this.db.conversations.upsert({\n      where: { id: conversationId },\n      update: {\n        messages: messages,\n        updatedAt: new Date(),\n      },\n      create: {\n        id: conversationId,\n        messages: messages,\n        createdAt: new Date(),\n      },\n    });\n  }\n\n  async load(conversationId: string): Promise\u003cMessage[]\u003e {\n    const conversation = await this.db.conversations.findUnique({\n      where: { id: conversationId },\n    });\n\n    return conversation?.messages || [];\n  }\n\n  async clear(conversationId: string): Promise\u003cvoid\u003e {\n    await this.db.conversations.update({\n      where: { id: conversationId },\n      data: { messages: [] },\n    });\n  }\n\n  async exists(conversationId: string): Promise\u003cboolean\u003e {\n    const count = await this.db.conversations.count({\n      where: { id: conversationId },\n    });\n    return count \u003e 0;\n  }\n}\n\n// Use custom memory\nconst memory = new DatabaseMemory(prismaClient);\nconst agent = new Agent(config, provider, toolRegistry, memory);",
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '18:["$","$L31",null,{"language":"typescript","children":"$32"}]\n19:["$","h2",null,{"children":"Tenant Buffer Memory"}]\n1a:["$","p",null,{"children":"Multi-tenant aware memory that isolates conversation data by tenant. Essential for multi-tenant applications."}]\n33:T50b,',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        "import { Agent, TenantBufferMemory, AnthropicProvider, ToolRegistry } from '@lov3kaizen/agentsea-core';\n\n// Create tenant-aware memory\nconst memory = new TenantBufferMemory({ maxMessages: 50 });\n\n// Create agent with tenant memory\nconst agent = new Agent(\n  {\n    name: 'support-agent',\n    model: 'claude-sonnet-4-20250514',\n    provider: 'anthropic',\n    systemPrompt: 'You are a customer support assistant.',\n  },\n  new AnthropicProvider(),\n  new ToolRegistry(),\n  { type: 'custom', store: memory },\n);\n\n// Save conversation for specific tenant\nawait memory.save('tenant-123', 'conv-456', [\n  { role: 'user', content: 'How do I upgrade my plan?' },\n  { role: 'assistant', content: 'I can help you upgrade your plan...' },\n]);\n\n// Load conversation only for this tenant\nconst history = await memory.load('tenant-123', 'conv-456');\n\n// Complete tenant isolation - Tenant A cannot access Tenant B's data\nconst tenantAHistory = await memory.load('tenant-a', 'conv-1'); // ‚úÖ Returns tenant A's data\nconst tenantBHistory = await memory.load('tenant-b', 'conv-1'); // ‚úÖ Returns tenant B's data (different)\n\n// Clear tenant-specific conversation\nawait memory.clear('tenant-123', 'conv-456');\n\n// Get all conversation IDs for a tenant\nconst conversationIds = await memory.getConversationIds('tenant-123');",
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '1b:["$","$L31",null,{"language":"typescript","children":"$33"}]\n1c:["$","div",null,{"className":"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8","children":[["$","h3",null,{"className":"text-lg font-semibold mb-2","children":"üè¢ Multi-Tenancy Support"}],["$","p",null,{"className":"mb-0","children":["TenantBufferMemory provides complete data isolation between tenants, ensuring that one tenant\'s conversations are never accessible to another. Use this with the ",["$","$L34",null,{"href":"/docs/multi-tenancy","className":"text-blue-600 hover:underline","children":"Multi-Tenancy system"}]," for production SaaS applications."]}]]}]\n1d:["$","h2",null,{"children":"Managing Conversation History"}]\n1e:["$","p",null,{"children":"Control how conversation history is managed:"}]\n1f:["$","$L31",null,{"language":"typescript","children":"// Clear conversation history\\nawait memory.clear(\'conversation-123\');\\n\\n// Load existing history\\nconst history = await memory.load(\'conversation-123\');\\n\\n// Pass history directly to agent\\nconst response = await agent.execute(\'Hello\', {\\n  conversationId: \'user-123\',\\n  sessionData: {},\\n  history: history, // Use pre-loaded history\\n});\\n\\n// Check if conversation exists\\nconst exists = await memory.exists(\'conversation-123\');\\nif (!exists) {\\n  console.log(\'Starting new conversation\');\\n}"}]\n20:["$","h2",null,{"children":"Session Data"}]\n21:["$","p",null,{"children":"Store additional context alongside messages:"}]\n22:["$","$L31",null,{"language":"typescript","children":"const context = {\\n  conversationId: \'user-123\',\\n  sessionData: {\\n    userId: \'12345\',\\n    userName: \'Alice\',\\n    preferences: {\\n      language: \'en\',\\n      timezone: \'America/Los_Angeles\',\\n    },\\n    metadata: {\\n      source: \'web\',\\n      device: \'desktop\',\\n    },\\n  },\\n  history: [],\\n};\\n\\nconst response = await agent.execute(\'What time is it?\', context);\\n\\n// Agent can reference session data in responses\\n// \\"Based on your timezone (America/Los_Angeles), it is currently...\\""}]\n23:["$","h2",null,{"',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        'children":"Memory Best Practices"}]\n24:["$","h3",null,{"children":"Choosing the Right Memory Store"}]\n25:["$","ul",null,{"children":[["$","li",null,{"children":[["$","strong",null,{"children":"BufferMemory"}],": Development, testing, single-server apps"]}],["$","li",null,{"children":[["$","strong",null,{"children":"RedisMemory"}],": Production, multi-server, high availability"]}],["$","li",null,{"children":[["$","strong",null,{"children":"SummaryMemory"}],": Long conversations, token optimization"]}],["$","li",null,{"children":[["$","strong",null,{"children":"TenantBufferMemory"}],": Multi-tenant SaaS applications requiring data isolation"]}]]}]\n26:["$","h3",null,{"children":"Memory Configuration"}]\n27:["$","ul",null,{"children":[["$","li",null,{"children":"Set appropriate message limits to balance context and token usage"}],["$","li",null,{"children":"Use TTL in Redis to automatically expire old conversations"}],["$","li",null,{"children":"Implement cleanup jobs to remove inactive conversations"}],["$","li",null,{"children":"Monitor memory usage in production environments"}]]}]\n28:["$","h3",null,{"children":"Privacy and Security"}]\n29:["$","ul",null,{"children":[["$","li",null,{"children":"Encrypt sensitive data before storing in memory"}],["$","li",null,{"children":"Implement data retention policies"}],["$","li",null,{"children":"Provide user controls to delete their conversation history"}],["$","li",null,{"children":"Use conversation IDs that don\'t expose user information"}]]}]\n2a:["$","h2",null,{"children":"Comparison Table"}]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '2b:["$","div",null,{"className":"bg-white rounded-lg border border-gray-200 overflow-hidden mb-6","children":["$","table",null,{"className":"min-w-full divide-y divide-gray-200","children":[["$","thead",null,{"className":"bg-gray-50","children":["$","tr",null,{"children":[["$","th",null,{"className":"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider","children":"Feature"}],["$","th",null,{"className":"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider","children":"Buffer"}],["$","th",null,{"className":"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider","children":"Redis"}],["$","th",null,{"className":"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider","children":"Summary"}],["$","th",null,{"className":"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider","children":"Tenant Buffer"}]]}]}],["$","tbody",null,{"className":"bg-white divide-y divide-gray-200","children":[["$","tr",null,{"children":[["$","td",null,{"className":"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900","children":"Persistence"}],["$","td",null,{"className":"px-6 py-4 whitespace-nowrap text-sm text-gray-500","children":"‚ùå No"}],["$","td",null,{"className":"px-6 py-4 whitespace-nowrap text-sm text-gray-500","children":"‚úÖ Yes"}],["$","td",null,{"className":"px-6 py-4 whitespace-nowrap text-sm text-gray-500","children":"‚ö†Ô∏è Depends"}],["$","td",null,{"className":"px-6 py-4 whitespace-nowrap text-sm text-gray-500","children":"‚ùå No"}]]}],["$","tr",null,{"children":[["$","td",null,{"className":"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900","children":"Speed"}],["$","td",null,{"className":"px-6 py-4 whitespace-nowrap text-sm text-gray-500","children":"‚ö° Fastest"}],["$","td",null,{"className":"px-6 py-4 whitespace-nowrap text-sm text-gray-500","children":"‚ö° Fast"}],["$","td",null,{"className":"px-6 py-4 whitespace-nowrap text-sm text-gray-500","children":"üê¢ Slower"}],["$","td",null,{"className":"px-6 py-4 whitespace-nowrap text-sm text-gray-500","children":"‚ö° Fastest"}]]}],["$","tr",null,{"children":[["$","td",null,{"className":"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900","children":"Scalability"}],["$","td",null,{"className":"px-6 py-4 whitespace-nowrap text-sm text-gray-500","children":"‚ùå Single server"}],["$","td",null,{"className":"px-6 py-4 whitespace-nowrap text-sm text-gray-500","children":"‚úÖ Multi-server"}],["$","td",null,{"className":"px-6 py-4 whitespace-nowrap text-sm text-gray-500","children":"‚ö†Ô∏è Depends"}],["$","td",null,{"className":"px-6 py-4 whitespace-nowrap text-sm text-gray-500","children":"‚úÖ Multi-tenant"}]]}],["$","tr",null,{"children":[["$","td",null,{"className":"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900","children":"Token Usage"}],["$","td",null,{"className":"px-6 py-4 whitespace-nowrap text-sm text-gray-500","children":"‚ö†Ô∏è Medium"}],["$","td",null,{"className":"px-6 py-4 whitespace-nowrap text-sm text-gray-500","children":"‚ö†Ô∏è Medium"}],["$","td",null,{"className":"px-6 py-4 whitespace-nowrap text-sm text-gray-500","children":"‚úÖ Optimized"}],["$","td",null,{"className":"px-6 py-4 whitespace-nowrap text-sm text-gray-500","children":"‚ö†Ô∏è Medium"}]]}],["$","tr",null,{"children":[["$","td",null,{"className":"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900","children":"Setup"}],["$","td",null,{"className":"px-6 py-4 whitespace-nowrap text-sm text-gray-500","children":"‚úÖ Simple"}],["$","td",null,{"className":"px-6 py-4 whitespace-nowrap text-sm text-gray-500","children":"‚ö†Ô∏è Redis required"}],["$","td",null,{"className":"px-6 py-4 whitespace-nowrap text-sm text-gray-500","children":"‚ö†Ô∏è Extra LLM calls"}],["$","td",null,{"className":"px-6 py-4 whitespace-nowrap text-sm text-gray-500","children":"‚úÖ Simple"}]]}],["$","tr",null,{"children":[["$","td",null,{"className":"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900","children":"Tenant Isolation"}],["$","td",null,{"className":"px-6 py-4 whitespace-nowrap text-sm text-gray-500","children":"‚ùå No"}],"$L35","$L36","$L37"]}]]}]]}]}]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '2c:["$","h2",null,{"children":"Next Steps"}]\n2d:["$","ul",null,{"children":[["$","li",null,{"children":["$","$L34",null,{"href":"/docs/agents","children":"Learn more about Agents"}]}],["$","li",null,{"children":["$","$L34",null,{"href":"/docs/workflows","children":"Use Memory in Workflows"}]}],["$","li",null,{"children":["$","$L34",null,{"href":"/examples","children":"View Memory Examples"}]}]]}]\n2e:["$","$L38",null,{"children":["$L39",["$","$L3a",null,{"promise":"$@3b"}]]}]\n2f:["$","$1","h",{"children":[null,[["$","$L3c",null,{"children":"$L3d"}],["$","meta",null,{"name":"next-size-adjust","content":""}]],["$","$L3e",null,{"children":["$","div",null,{"hidden":true,"children":["$","$3f",null,{"fallback":null,"children":"$L40"}]}]}]]}]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '35:["$","td",null,{"className":"px-6 py-4 whitespace-nowrap text-sm text-gray-500","children":"‚ö†Ô∏è Manual"}]\n36:["$","td",null,{"className":"px-6 py-4 whitespace-nowrap text-sm text-gray-500","children":"‚ö†Ô∏è Manual"}]\n37:["$","td",null,{"className":"px-6 py-4 whitespace-nowrap text-sm text-gray-500","children":"‚úÖ Built-in"}]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '3d:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]\n39:null\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '3b:{"metadata":[["$","title","0",{"children":"AgentSea - Unite and Orchestrate AI Agents"}],["$","meta","1",{"name":"description","content":"Build powerful agentic AI applications with AgentSea. Unite AI agents and services with multi-provider support, workflow orchestration, MCP protocol, and enterprise-grade observability."}]],"error":null,"digest":"$undefined"}\n',
      ]);
    </script>
    <script>
      self.__next_f.push([1, '40:"$3b:metadata"\n']);
    </script>
  </body>
</html>
