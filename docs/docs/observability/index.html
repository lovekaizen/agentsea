<!doctype html>
<!--BR2GXXFimfBinRJoMr3YY-->
<html lang="en" data-theme="cmyk">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="preload"
      href="/_next/static/media/e4af272ccee01ff0-s.p.woff2"
      as="font"
      crossorigin=""
      type="font/woff2"
    />
    <link
      rel="stylesheet"
      href="/_next/static/css/7e7d96b1e6991756.css"
      data-precedence="next"
    />
    <link
      rel="stylesheet"
      href="/_next/static/css/1145ad3a91ffb5c9.css"
      data-precedence="next"
    />
    <link
      rel="stylesheet"
      href="/_next/static/css/7a622664f4c377b7.css"
      data-precedence="next"
    />
    <link
      rel="preload"
      as="script"
      fetchpriority="low"
      href="/_next/static/chunks/webpack-1b7e2f9af6e0232d.js"
    />
    <script
      src="/_next/static/chunks/4bd1b696-c023c6e3521b1417.js"
      async=""
    ></script>
    <script
      src="/_next/static/chunks/255-0fb808ac7cfa018d.js"
      async=""
    ></script>
    <script
      src="/_next/static/chunks/main-app-55a8534c92ac85d5.js"
      async=""
    ></script>
    <script
      src="/_next/static/chunks/619-ba102abea3e3d0e4.js"
      async=""
    ></script>
    <script
      src="/_next/static/chunks/543-a0960cd7f2b1c22c.js"
      async=""
    ></script>
    <script
      src="/_next/static/chunks/app/layout-b0f860a3d9150669.js"
      async=""
    ></script>
    <script
      src="/_next/static/chunks/501-26489c9c153fdafc.js"
      async=""
    ></script>
    <script
      src="/_next/static/chunks/app/docs/observability/page-1661e6a98b49e8b6.js"
      async=""
    ></script>
    <meta name="next-size-adjust" content="" />
    <title>AgentSea - Unite and Orchestrate AI Agents</title>
    <meta
      name="description"
      content="Build powerful agentic AI applications with AgentSea. Unite AI agents and services with multi-provider support, workflow orchestration, MCP protocol, and enterprise-grade observability."
    />
    <script
      src="/_next/static/chunks/polyfills-42372ed130431b0a.js"
      nomodule=""
    ></script>
  </head>
  <body class="__className_f367f3">
    <div hidden=""><!--$--><!--/$--></div>
    <div class="drawer lg:drawer-open">
      <input id="main-drawer" type="checkbox" class="drawer-toggle" />
      <div class="drawer-content flex flex-col">
        <div class="navbar">
          <div class="flex-none lg:hidden">
            <label for="main-drawer" class="btn btn-square btn-ghost"
              ><svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                class="inline-block w-6 h-6 stroke-current"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4 6h16M4 12h16M4 18h16"
                ></path></svg
            ></label>
          </div>
          <div class="flex-1">
            <a class="btn btn-ghost px-0 py-6" href="/"
              ><img
                alt="AgentSea Logo"
                loading="lazy"
                width="217"
                height="60"
                decoding="async"
                data-nimg="1"
                style="color: transparent"
                src="/agentsea-sdk-logo.svg"
            /></a>
          </div>
          <div class="flex-none">
            <a
              href="https://github.com/lovekaizen/agentsea"
              target="_blank"
              rel="noopener noreferrer"
              class="btn btn-ghost btn-circle"
              title="AgentSea on Github"
              ><svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"
                ></path></svg
            ></a>
          </div>
        </div>
        <main class="flex-1">
          <div class="min-h-screen bg-base-100">
            <div class="container mx-auto px-6 py-12 max-w-5xl">
              <div class="mb-12">
                <h1 class="text-5xl font-bold mb-4">Observability</h1>
                <p class="text-xl text-base-content/70">
                  Monitor, debug, and optimize your agentic applications with
                  comprehensive logging, metrics, and distributed tracing.
                </p>
              </div>
              <div class="prose max-w-none">
                <h2>Observability Pillars</h2>
                <p>AgentSea provides three core observability features:</p>
                <div
                  class="grid grid-cols-1 md:grid-cols-3 gap-4 not-prose mb-8"
                >
                  <div class="p-4 bg-white rounded-lg border border-gray-200">
                    <div class="text-3xl mb-2">üìù</div>
                    <h3 class="font-semibold text-gray-900 mb-2">Logging</h3>
                    <p class="text-sm text-gray-600">
                      Structured logging with Winston for debugging and auditing
                    </p>
                  </div>
                  <div class="p-4 bg-white rounded-lg border border-gray-200">
                    <div class="text-3xl mb-2">üìä</div>
                    <h3 class="font-semibold text-gray-900 mb-2">Metrics</h3>
                    <p class="text-sm text-gray-600">
                      Performance metrics for agents, tools, and workflows
                    </p>
                  </div>
                  <div class="p-4 bg-white rounded-lg border border-gray-200">
                    <div class="text-3xl mb-2">üîç</div>
                    <h3 class="font-semibold text-gray-900 mb-2">Tracing</h3>
                    <p class="text-sm text-gray-600">
                      Distributed tracing to understand execution flow
                    </p>
                  </div>
                </div>
                <h2>Logging</h2>
                <p>
                  Structured logging powered by Winston with JSON and simple
                  formats:
                </p>
                <div
                  class="my-6 rounded-lg overflow-hidden shadow-lg bg-gray-900 border border-base-300 relative group"
                >
                  <div
                    class="flex items-center justify-between bg-base-300 px-4 py-2 border-b border-base-content/10"
                  >
                    <span
                      class="text-xs font-semibold text-base-content/60 uppercase"
                      >typescript</span
                    ><button
                      class="btn btn-xs btn-ghost gap-1 opacity-70 hover:opacity-100 transition-opacity"
                      title="Copy to clipboard"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                        ></path></svg
                      ><span>Copy</span>
                    </button>
                  </div>
                  <div class="overflow-x-auto">
                    <pre
                      style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:0;overflow:auto;border-radius:0.3em;background:transparent;font-size:0.875rem"
                    ><code style="white-space:pre;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace"><span class="token" style="color:#96CBFE">import</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> Logger </span><span class="token" style="color:#c5c8c6">}</span><span> </span><span class="token" style="color:#96CBFE">from</span><span> </span><span class="token" style="color:#A8FF60">&#x27;@lov3kaizen/agentsea-core&#x27;</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Create logger</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> logger </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">Logger</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  level</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;info&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#7C7C7C">// &#x27;error&#x27;, &#x27;warn&#x27;, &#x27;info&#x27;, &#x27;debug&#x27;</span><span>
</span><span>  format</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;json&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#7C7C7C">// or &#x27;simple&#x27;</span><span>
</span><span>  filename</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;./logs/app.log&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#7C7C7C">// Optional file output</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Log messages</span><span>
</span><span>logger</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">error</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;Failed to connect&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> error</span><span class="token" style="color:#EDEDED">:</span><span> err</span><span class="token" style="color:#c5c8c6">.</span><span>message </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span>logger</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">warn</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;Rate limit approaching&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> usage</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#FF73FD">95</span><span> </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span>logger</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">info</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;Agent executed successfully&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> agentName</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;chat-agent&#x27;</span><span> </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span>logger</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">debug</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;Tool called&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> toolName</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;calculator&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> input</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> a</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#FF73FD">1</span><span class="token" style="color:#c5c8c6">,</span><span> b</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#FF73FD">2</span><span> </span><span class="token" style="color:#c5c8c6">}</span><span> </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span></code></pre>
                  </div>
                </div>
                <h3>Logging Agent Execution</h3>
                <div
                  class="my-6 rounded-lg overflow-hidden shadow-lg bg-gray-900 border border-base-300 relative group"
                >
                  <div
                    class="flex items-center justify-between bg-base-300 px-4 py-2 border-b border-base-content/10"
                  >
                    <span
                      class="text-xs font-semibold text-base-content/60 uppercase"
                      >typescript</span
                    ><button
                      class="btn btn-xs btn-ghost gap-1 opacity-70 hover:opacity-100 transition-opacity"
                      title="Copy to clipboard"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                        ></path></svg
                      ><span>Copy</span>
                    </button>
                  </div>
                  <div class="overflow-x-auto">
                    <pre
                      style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:0;overflow:auto;border-radius:0.3em;background:transparent;font-size:0.875rem"
                    ><code style="white-space:pre;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace"><span class="token" style="color:#96CBFE">import</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> Agent</span><span class="token" style="color:#c5c8c6">,</span><span> Logger </span><span class="token" style="color:#c5c8c6">}</span><span> </span><span class="token" style="color:#96CBFE">from</span><span> </span><span class="token" style="color:#A8FF60">&#x27;@lov3kaizen/agentsea-core&#x27;</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#96CBFE">const</span><span> logger </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">Logger</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">{</span><span> level</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;info&#x27;</span><span> </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Enable agent logging</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> agent </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">Agent</span><span class="token" style="color:#c5c8c6">(</span><span>config</span><span class="token" style="color:#c5c8c6">,</span><span> provider</span><span class="token" style="color:#c5c8c6">,</span><span> toolRegistry</span><span class="token" style="color:#c5c8c6">,</span><span> memory</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#96CBFE">try</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  logger</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">info</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;Agent execution started&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    agentName</span><span class="token" style="color:#EDEDED">:</span><span> agent</span><span class="token" style="color:#c5c8c6">.</span><span>name</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    conversationId</span><span class="token" style="color:#EDEDED">:</span><span> context</span><span class="token" style="color:#c5c8c6">.</span><span>conversationId</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span>  </span><span class="token" style="color:#96CBFE">const</span><span> response </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">await</span><span> agent</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">execute</span><span class="token" style="color:#c5c8c6">(</span><span>prompt</span><span class="token" style="color:#c5c8c6">,</span><span> context</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span>  logger</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">info</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;Agent execution completed&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    agentName</span><span class="token" style="color:#EDEDED">:</span><span> agent</span><span class="token" style="color:#c5c8c6">.</span><span>name</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    tokensUsed</span><span class="token" style="color:#EDEDED">:</span><span> response</span><span class="token" style="color:#c5c8c6">.</span><span>metadata</span><span class="token" style="color:#c5c8c6">.</span><span>tokensUsed</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    toolsCalled</span><span class="token" style="color:#EDEDED">:</span><span> response</span><span class="token" style="color:#c5c8c6">.</span><span>toolCalls</span><span class="token" style="color:#c5c8c6">.</span><span>length</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span>  </span><span class="token" style="color:#96CBFE">return</span><span> response</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span><span> </span><span class="token" style="color:#96CBFE">catch</span><span> </span><span class="token" style="color:#c5c8c6">(</span><span>error</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  logger</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">error</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;Agent execution failed&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    agentName</span><span class="token" style="color:#EDEDED">:</span><span> agent</span><span class="token" style="color:#c5c8c6">.</span><span>name</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    error</span><span class="token" style="color:#EDEDED">:</span><span> error</span><span class="token" style="color:#c5c8c6">.</span><span>message</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    stack</span><span class="token" style="color:#EDEDED">:</span><span> error</span><span class="token" style="color:#c5c8c6">.</span><span>stack</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span>  </span><span class="token" style="color:#96CBFE">throw</span><span> error</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span></code></pre>
                  </div>
                </div>
                <h2>Metrics</h2>
                <p>
                  Track performance metrics for agents, tools, and workflows:
                </p>
                <div
                  class="my-6 rounded-lg overflow-hidden shadow-lg bg-gray-900 border border-base-300 relative group"
                >
                  <div
                    class="flex items-center justify-between bg-base-300 px-4 py-2 border-b border-base-content/10"
                  >
                    <span
                      class="text-xs font-semibold text-base-content/60 uppercase"
                      >typescript</span
                    ><button
                      class="btn btn-xs btn-ghost gap-1 opacity-70 hover:opacity-100 transition-opacity"
                      title="Copy to clipboard"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                        ></path></svg
                      ><span>Copy</span>
                    </button>
                  </div>
                  <div class="overflow-x-auto">
                    <pre
                      style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:0;overflow:auto;border-radius:0.3em;background:transparent;font-size:0.875rem"
                    ><code style="white-space:pre;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace"><span class="token" style="color:#96CBFE">import</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> Metrics</span><span class="token" style="color:#c5c8c6">,</span><span> globalMetrics </span><span class="token" style="color:#c5c8c6">}</span><span> </span><span class="token" style="color:#96CBFE">from</span><span> </span><span class="token" style="color:#A8FF60">&#x27;@lov3kaizen/agentsea-core&#x27;</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Use global metrics instance</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> metrics </span><span class="token" style="color:#EDEDED">=</span><span> globalMetrics</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Record metrics</span><span>
</span><span>metrics</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">recordCounter</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;agent.executions&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#FF73FD">1</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  agentName</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;chat-agent&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  status</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;success&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span>metrics</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">recordHistogram</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;agent.latency&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#FF73FD">1250</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  agentName</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;chat-agent&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span>metrics</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">recordGauge</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;agent.active_conversations&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#FF73FD">42</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Get statistics</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> stats </span><span class="token" style="color:#EDEDED">=</span><span> metrics</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">getStatistics</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span></span><span class="token" style="color:#A8FF60">console</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">log</span><span class="token" style="color:#c5c8c6">(</span><span>stats</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span></span><span class="token" style="color:#7C7C7C">// {</span><span>
</span><span></span><span class="token" style="color:#7C7C7C">// &#x27;agent.executions&#x27;: { count: 100, sum: 100, ... },</span><span>
</span><span></span><span class="token" style="color:#7C7C7C">// &#x27;agent.latency&#x27;: { count: 100, min: 200, max: 3000, mean: 1250, ... }</span><span>
</span><span></span><span class="token" style="color:#7C7C7C">// }</span></code></pre>
                  </div>
                </div>
                <h3>Automated Agent Metrics</h3>
                <div
                  class="my-6 rounded-lg overflow-hidden shadow-lg bg-gray-900 border border-base-300 relative group"
                >
                  <div
                    class="flex items-center justify-between bg-base-300 px-4 py-2 border-b border-base-content/10"
                  >
                    <span
                      class="text-xs font-semibold text-base-content/60 uppercase"
                      >typescript</span
                    ><button
                      class="btn btn-xs btn-ghost gap-1 opacity-70 hover:opacity-100 transition-opacity"
                      title="Copy to clipboard"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                        ></path></svg
                      ><span>Copy</span>
                    </button>
                  </div>
                  <div class="overflow-x-auto">
                    <pre
                      style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:0;overflow:auto;border-radius:0.3em;background:transparent;font-size:0.875rem"
                    ><code style="white-space:pre;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace"><span class="token" style="color:#96CBFE">import</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> Agent</span><span class="token" style="color:#c5c8c6">,</span><span> globalMetrics </span><span class="token" style="color:#c5c8c6">}</span><span> </span><span class="token" style="color:#96CBFE">from</span><span> </span><span class="token" style="color:#A8FF60">&#x27;@lov3kaizen/agentsea-core&#x27;</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#96CBFE">const</span><span> agent </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">Agent</span><span class="token" style="color:#c5c8c6">(</span><span>config</span><span class="token" style="color:#c5c8c6">,</span><span> provider</span><span class="token" style="color:#c5c8c6">,</span><span> toolRegistry</span><span class="token" style="color:#c5c8c6">,</span><span> memory</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Wrap execution with metrics</span><span>
</span><span></span><span class="token" style="color:#96CBFE">async</span><span> </span><span class="token" style="color:#96CBFE">function</span><span> </span><span class="token" style="color:#DAD085">executeWithMetrics</span><span class="token" style="color:#c5c8c6">(</span><span>prompt</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">string</span><span class="token" style="color:#c5c8c6">,</span><span> context</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">any</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  </span><span class="token" style="color:#96CBFE">const</span><span> startTime </span><span class="token" style="color:#EDEDED">=</span><span> Date</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">now</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span>  </span><span class="token" style="color:#96CBFE">try</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    </span><span class="token" style="color:#96CBFE">const</span><span> response </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">await</span><span> agent</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">execute</span><span class="token" style="color:#c5c8c6">(</span><span>prompt</span><span class="token" style="color:#c5c8c6">,</span><span> context</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span>    </span><span class="token" style="color:#7C7C7C">// Record success metrics</span><span>
</span><span>    globalMetrics</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">recordCounter</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;agent.executions&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#FF73FD">1</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>      agentName</span><span class="token" style="color:#EDEDED">:</span><span> agent</span><span class="token" style="color:#c5c8c6">.</span><span>name</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>      status</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;success&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span>    globalMetrics</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">recordHistogram</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;agent.latency&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> Date</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">now</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token" style="color:#EDEDED">-</span><span> startTime</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>      agentName</span><span class="token" style="color:#EDEDED">:</span><span> agent</span><span class="token" style="color:#c5c8c6">.</span><span>name</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span>    globalMetrics</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">recordHistogram</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;agent.tokens&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> response</span><span class="token" style="color:#c5c8c6">.</span><span>metadata</span><span class="token" style="color:#c5c8c6">.</span><span>tokensUsed</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>      agentName</span><span class="token" style="color:#EDEDED">:</span><span> agent</span><span class="token" style="color:#c5c8c6">.</span><span>name</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span>    </span><span class="token" style="color:#96CBFE">return</span><span> response</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span> </span><span class="token" style="color:#96CBFE">catch</span><span> </span><span class="token" style="color:#c5c8c6">(</span><span>error</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    </span><span class="token" style="color:#7C7C7C">// Record error metrics</span><span>
</span><span>    globalMetrics</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">recordCounter</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;agent.executions&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#FF73FD">1</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>      agentName</span><span class="token" style="color:#EDEDED">:</span><span> agent</span><span class="token" style="color:#c5c8c6">.</span><span>name</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>      status</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;error&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span>    globalMetrics</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">recordCounter</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;agent.errors&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#FF73FD">1</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>      agentName</span><span class="token" style="color:#EDEDED">:</span><span> agent</span><span class="token" style="color:#c5c8c6">.</span><span>name</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>      errorType</span><span class="token" style="color:#EDEDED">:</span><span> error</span><span class="token" style="color:#c5c8c6">.</span><span>constructor</span><span class="token" style="color:#c5c8c6">.</span><span>name</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span>    </span><span class="token" style="color:#96CBFE">throw</span><span> error</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span></code></pre>
                  </div>
                </div>
                <h3>Subscribing to Metrics</h3>
                <div
                  class="my-6 rounded-lg overflow-hidden shadow-lg bg-gray-900 border border-base-300 relative group"
                >
                  <div
                    class="flex items-center justify-between bg-base-300 px-4 py-2 border-b border-base-content/10"
                  >
                    <span
                      class="text-xs font-semibold text-base-content/60 uppercase"
                      >typescript</span
                    ><button
                      class="btn btn-xs btn-ghost gap-1 opacity-70 hover:opacity-100 transition-opacity"
                      title="Copy to clipboard"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                        ></path></svg
                      ><span>Copy</span>
                    </button>
                  </div>
                  <div class="overflow-x-auto">
                    <pre
                      style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:0;overflow:auto;border-radius:0.3em;background:transparent;font-size:0.875rem"
                    ><code style="white-space:pre;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace"><span class="token" style="color:#96CBFE">import</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> globalMetrics </span><span class="token" style="color:#c5c8c6">}</span><span> </span><span class="token" style="color:#96CBFE">from</span><span> </span><span class="token" style="color:#A8FF60">&#x27;@lov3kaizen/agentsea-core&#x27;</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Subscribe to metric updates</span><span>
</span><span>globalMetrics</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">subscribe</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">(</span><span>metric</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token" style="color:#EDEDED">=&gt;</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  </span><span class="token" style="color:#A8FF60">console</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">log</span><span class="token" style="color:#c5c8c6">(</span><span class="token template-string template-punctuation" style="color:#A8FF60">`</span><span class="token template-string" style="color:#A8FF60">Metric recorded: </span><span class="token template-string interpolation interpolation-punctuation" style="color:#c5c8c6">${</span><span class="token template-string interpolation">metric</span><span class="token template-string interpolation" style="color:#c5c8c6">.</span><span class="token template-string interpolation">name</span><span class="token template-string interpolation interpolation-punctuation" style="color:#c5c8c6">}</span><span class="token template-string" style="color:#A8FF60"> = </span><span class="token template-string interpolation interpolation-punctuation" style="color:#c5c8c6">${</span><span class="token template-string interpolation">metric</span><span class="token template-string interpolation" style="color:#c5c8c6">.</span><span class="token template-string interpolation">value</span><span class="token template-string interpolation interpolation-punctuation" style="color:#c5c8c6">}</span><span class="token template-string template-punctuation" style="color:#A8FF60">`</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span>  </span><span class="token" style="color:#7C7C7C">// Send to monitoring service</span><span>
</span><span>  </span><span class="token" style="color:#96CBFE">if</span><span> </span><span class="token" style="color:#c5c8c6">(</span><span>metric</span><span class="token" style="color:#c5c8c6">.</span><span>name </span><span class="token" style="color:#EDEDED">===</span><span> </span><span class="token" style="color:#A8FF60">&#x27;agent.latency&#x27;</span><span> </span><span class="token" style="color:#EDEDED">&amp;&amp;</span><span> metric</span><span class="token" style="color:#c5c8c6">.</span><span>value </span><span class="token" style="color:#EDEDED">&gt;</span><span> </span><span class="token" style="color:#FF73FD">5000</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    </span><span class="token" style="color:#DAD085">alertHighLatency</span><span class="token" style="color:#c5c8c6">(</span><span>metric</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span></code></pre>
                  </div>
                </div>
                <h2>Distributed Tracing</h2>
                <p>Track execution flow across agents, tools, and workflows:</p>
                <div
                  class="my-6 rounded-lg overflow-hidden shadow-lg bg-gray-900 border border-base-300 relative group"
                >
                  <div
                    class="flex items-center justify-between bg-base-300 px-4 py-2 border-b border-base-content/10"
                  >
                    <span
                      class="text-xs font-semibold text-base-content/60 uppercase"
                      >typescript</span
                    ><button
                      class="btn btn-xs btn-ghost gap-1 opacity-70 hover:opacity-100 transition-opacity"
                      title="Copy to clipboard"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                        ></path></svg
                      ><span>Copy</span>
                    </button>
                  </div>
                  <div class="overflow-x-auto">
                    <pre
                      style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:0;overflow:auto;border-radius:0.3em;background:transparent;font-size:0.875rem"
                    ><code style="white-space:pre;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace"><span class="token" style="color:#96CBFE">import</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> Tracer</span><span class="token" style="color:#c5c8c6">,</span><span> globalTracer </span><span class="token" style="color:#c5c8c6">}</span><span> </span><span class="token" style="color:#96CBFE">from</span><span> </span><span class="token" style="color:#A8FF60">&#x27;@lov3kaizen/agentsea-core&#x27;</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#96CBFE">const</span><span> tracer </span><span class="token" style="color:#EDEDED">=</span><span> globalTracer</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Create trace</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> trace </span><span class="token" style="color:#EDEDED">=</span><span> tracer</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">createTrace</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;user-request&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  userId</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;12345&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  operation</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;chat&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Create spans for each operation</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> agentSpan </span><span class="token" style="color:#EDEDED">=</span><span> trace</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">createSpan</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;agent-execution&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  agentName</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;chat-agent&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#96CBFE">try</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  </span><span class="token" style="color:#96CBFE">const</span><span> response </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">await</span><span> agent</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">execute</span><span class="token" style="color:#c5c8c6">(</span><span>prompt</span><span class="token" style="color:#c5c8c6">,</span><span> context</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span>  </span><span class="token" style="color:#7C7C7C">// Create nested span for tool execution</span><span>
</span><span>  </span><span class="token" style="color:#96CBFE">const</span><span> toolSpan </span><span class="token" style="color:#EDEDED">=</span><span> agentSpan</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">createSpan</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;tool-call&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    toolName</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;calculator&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span>  </span><span class="token" style="color:#96CBFE">const</span><span> result </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">await</span><span> </span><span class="token" style="color:#DAD085">executeTool</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;calculator&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> a</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#FF73FD">1</span><span class="token" style="color:#c5c8c6">,</span><span> b</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#FF73FD">2</span><span> </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span>  toolSpan</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">end</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span>  agentSpan</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">end</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span>  </span><span class="token" style="color:#7C7C7C">// Get trace information</span><span>
</span><span>  </span><span class="token" style="color:#96CBFE">const</span><span> duration </span><span class="token" style="color:#EDEDED">=</span><span> trace</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">getDuration</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span>  </span><span class="token" style="color:#96CBFE">const</span><span> spans </span><span class="token" style="color:#EDEDED">=</span><span> trace</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">getSpans</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span>  </span><span class="token" style="color:#A8FF60">console</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">log</span><span class="token" style="color:#c5c8c6">(</span><span class="token template-string template-punctuation" style="color:#A8FF60">`</span><span class="token template-string" style="color:#A8FF60">Total duration: </span><span class="token template-string interpolation interpolation-punctuation" style="color:#c5c8c6">${</span><span class="token template-string interpolation">duration</span><span class="token template-string interpolation interpolation-punctuation" style="color:#c5c8c6">}</span><span class="token template-string" style="color:#A8FF60">ms, Spans: </span><span class="token template-string interpolation interpolation-punctuation" style="color:#c5c8c6">${</span><span class="token template-string interpolation">spans</span><span class="token template-string interpolation" style="color:#c5c8c6">.</span><span class="token template-string interpolation">length</span><span class="token template-string interpolation interpolation-punctuation" style="color:#c5c8c6">}</span><span class="token template-string template-punctuation" style="color:#A8FF60">`</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span><span> </span><span class="token" style="color:#96CBFE">catch</span><span> </span><span class="token" style="color:#c5c8c6">(</span><span>error</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  agentSpan</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">end</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span>  </span><span class="token" style="color:#96CBFE">throw</span><span> error</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span></code></pre>
                  </div>
                </div>
                <h3>Automatic Tracing</h3>
                <div
                  class="my-6 rounded-lg overflow-hidden shadow-lg bg-gray-900 border border-base-300 relative group"
                >
                  <div
                    class="flex items-center justify-between bg-base-300 px-4 py-2 border-b border-base-content/10"
                  >
                    <span
                      class="text-xs font-semibold text-base-content/60 uppercase"
                      >typescript</span
                    ><button
                      class="btn btn-xs btn-ghost gap-1 opacity-70 hover:opacity-100 transition-opacity"
                      title="Copy to clipboard"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                        ></path></svg
                      ><span>Copy</span>
                    </button>
                  </div>
                  <div class="overflow-x-auto">
                    <pre
                      style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:0;overflow:auto;border-radius:0.3em;background:transparent;font-size:0.875rem"
                    ><code style="white-space:pre;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace"><span class="token" style="color:#96CBFE">import</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> Agent</span><span class="token" style="color:#c5c8c6">,</span><span> globalTracer </span><span class="token" style="color:#c5c8c6">}</span><span> </span><span class="token" style="color:#96CBFE">from</span><span> </span><span class="token" style="color:#A8FF60">&#x27;@lov3kaizen/agentsea-core&#x27;</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Wrap agent with automatic tracing</span><span>
</span><span></span><span class="token" style="color:#96CBFE">function</span><span> </span><span class="token" style="color:#DAD085">createTracedAgent</span><span class="token" style="color:#c5c8c6">(</span><span>config</span><span class="token" style="color:#c5c8c6">,</span><span> provider</span><span class="token" style="color:#c5c8c6">,</span><span> toolRegistry</span><span class="token" style="color:#c5c8c6">,</span><span> memory</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  </span><span class="token" style="color:#96CBFE">const</span><span> agent </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">Agent</span><span class="token" style="color:#c5c8c6">(</span><span>config</span><span class="token" style="color:#c5c8c6">,</span><span> provider</span><span class="token" style="color:#c5c8c6">,</span><span> toolRegistry</span><span class="token" style="color:#c5c8c6">,</span><span> memory</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span>  </span><span class="token" style="color:#7C7C7C">// Override execute method</span><span>
</span><span>  </span><span class="token" style="color:#96CBFE">const</span><span> originalExecute </span><span class="token" style="color:#EDEDED">=</span><span> agent</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">execute</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">bind</span><span class="token" style="color:#c5c8c6">(</span><span>agent</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span>  agent</span><span class="token" style="color:#c5c8c6">.</span><span class="token function-variable" style="color:#DAD085">execute</span><span> </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">async</span><span> </span><span class="token" style="color:#c5c8c6">(</span><span>prompt</span><span class="token" style="color:#c5c8c6">,</span><span> context</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token" style="color:#EDEDED">=&gt;</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    </span><span class="token" style="color:#96CBFE">const</span><span> trace </span><span class="token" style="color:#EDEDED">=</span><span> globalTracer</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">createTrace</span><span class="token" style="color:#c5c8c6">(</span><span class="token template-string template-punctuation" style="color:#A8FF60">`</span><span class="token template-string" style="color:#A8FF60">agent:</span><span class="token template-string interpolation interpolation-punctuation" style="color:#c5c8c6">${</span><span class="token template-string interpolation">agent</span><span class="token template-string interpolation" style="color:#c5c8c6">.</span><span class="token template-string interpolation">name</span><span class="token template-string interpolation interpolation-punctuation" style="color:#c5c8c6">}</span><span class="token template-string template-punctuation" style="color:#A8FF60">`</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>      conversationId</span><span class="token" style="color:#EDEDED">:</span><span> context</span><span class="token" style="color:#c5c8c6">.</span><span>conversationId</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span>    </span><span class="token" style="color:#96CBFE">const</span><span> span </span><span class="token" style="color:#EDEDED">=</span><span> trace</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">createSpan</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;agent-execution&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>      agentName</span><span class="token" style="color:#EDEDED">:</span><span> agent</span><span class="token" style="color:#c5c8c6">.</span><span>name</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>      prompt</span><span class="token" style="color:#EDEDED">:</span><span> prompt</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">substring</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#FF73FD">0</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#FF73FD">100</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span>    </span><span class="token" style="color:#96CBFE">try</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>      </span><span class="token" style="color:#96CBFE">const</span><span> response </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">await</span><span> </span><span class="token" style="color:#DAD085">originalExecute</span><span class="token" style="color:#c5c8c6">(</span><span>prompt</span><span class="token" style="color:#c5c8c6">,</span><span> context</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span>      span</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">end</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span>      </span><span class="token" style="color:#96CBFE">return</span><span> response</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span>    </span><span class="token" style="color:#c5c8c6">}</span><span> </span><span class="token" style="color:#96CBFE">catch</span><span> </span><span class="token" style="color:#c5c8c6">(</span><span>error</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>      span</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">end</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span>      </span><span class="token" style="color:#96CBFE">throw</span><span> error</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span>    </span><span class="token" style="color:#c5c8c6">}</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span>  </span><span class="token" style="color:#96CBFE">return</span><span> agent</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span><span>
</span>
<span></span><span class="token" style="color:#96CBFE">const</span><span> tracedAgent </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#DAD085">createTracedAgent</span><span class="token" style="color:#c5c8c6">(</span><span>config</span><span class="token" style="color:#c5c8c6">,</span><span> provider</span><span class="token" style="color:#c5c8c6">,</span><span> toolRegistry</span><span class="token" style="color:#c5c8c6">,</span><span> memory</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span></code></pre>
                  </div>
                </div>
                <h2>Integration with Monitoring Services</h2>
                <h3>Prometheus</h3>
                <div
                  class="my-6 rounded-lg overflow-hidden shadow-lg bg-gray-900 border border-base-300 relative group"
                >
                  <div
                    class="flex items-center justify-between bg-base-300 px-4 py-2 border-b border-base-content/10"
                  >
                    <span
                      class="text-xs font-semibold text-base-content/60 uppercase"
                      >typescript</span
                    ><button
                      class="btn btn-xs btn-ghost gap-1 opacity-70 hover:opacity-100 transition-opacity"
                      title="Copy to clipboard"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                        ></path></svg
                      ><span>Copy</span>
                    </button>
                  </div>
                  <div class="overflow-x-auto">
                    <pre
                      style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:0;overflow:auto;border-radius:0.3em;background:transparent;font-size:0.875rem"
                    ><code style="white-space:pre;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace"><span class="token" style="color:#96CBFE">import</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> globalMetrics </span><span class="token" style="color:#c5c8c6">}</span><span> </span><span class="token" style="color:#96CBFE">from</span><span> </span><span class="token" style="color:#A8FF60">&#x27;@lov3kaizen/agentsea-core&#x27;</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span></span><span class="token" style="color:#96CBFE">import</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> register</span><span class="token" style="color:#c5c8c6">,</span><span> Counter</span><span class="token" style="color:#c5c8c6">,</span><span> Histogram </span><span class="token" style="color:#c5c8c6">}</span><span> </span><span class="token" style="color:#96CBFE">from</span><span> </span><span class="token" style="color:#A8FF60">&#x27;prom-client&#x27;</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Create Prometheus metrics</span><span>
</span><span></span><span class="token" style="color:#96CBFE">const</span><span> agentExecutions </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">Counter</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  name</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;agent_executions_total&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  help</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;Total agent executions&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  labelNames</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#c5c8c6">[</span><span class="token" style="color:#A8FF60">&#x27;agent_name&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#A8FF60">&#x27;status&#x27;</span><span class="token" style="color:#c5c8c6">]</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#96CBFE">const</span><span> agentLatency </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">Histogram</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  name</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;agent_latency_seconds&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  help</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;Agent execution latency&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  labelNames</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#c5c8c6">[</span><span class="token" style="color:#A8FF60">&#x27;agent_name&#x27;</span><span class="token" style="color:#c5c8c6">]</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  buckets</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#c5c8c6">[</span><span class="token" style="color:#FF73FD">0.1</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#FF73FD">0.5</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#FF73FD">1</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#FF73FD">2</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#FF73FD">5</span><span class="token" style="color:#c5c8c6">]</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Subscribe to AgentSea  metrics and forward to Prometheus</span><span>
</span><span>globalMetrics</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">subscribe</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">(</span><span>metric</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token" style="color:#EDEDED">=&gt;</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  </span><span class="token" style="color:#96CBFE">if</span><span> </span><span class="token" style="color:#c5c8c6">(</span><span>metric</span><span class="token" style="color:#c5c8c6">.</span><span>name </span><span class="token" style="color:#EDEDED">===</span><span> </span><span class="token" style="color:#A8FF60">&#x27;agent.executions&#x27;</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    agentExecutions</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">inc</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>      agent_name</span><span class="token" style="color:#EDEDED">:</span><span> metric</span><span class="token" style="color:#c5c8c6">.</span><span>tags</span><span class="token" style="color:#c5c8c6">.</span><span>agentName</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>      status</span><span class="token" style="color:#EDEDED">:</span><span> metric</span><span class="token" style="color:#c5c8c6">.</span><span>tags</span><span class="token" style="color:#c5c8c6">.</span><span>status</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span> </span><span class="token" style="color:#96CBFE">else</span><span> </span><span class="token" style="color:#96CBFE">if</span><span> </span><span class="token" style="color:#c5c8c6">(</span><span>metric</span><span class="token" style="color:#c5c8c6">.</span><span>name </span><span class="token" style="color:#EDEDED">===</span><span> </span><span class="token" style="color:#A8FF60">&#x27;agent.latency&#x27;</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    agentLatency</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">observe</span><span class="token" style="color:#c5c8c6">(</span><span>
</span><span>      </span><span class="token" style="color:#c5c8c6">{</span><span> agent_name</span><span class="token" style="color:#EDEDED">:</span><span> metric</span><span class="token" style="color:#c5c8c6">.</span><span>tags</span><span class="token" style="color:#c5c8c6">.</span><span>agentName </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>      metric</span><span class="token" style="color:#c5c8c6">.</span><span>value </span><span class="token" style="color:#EDEDED">/</span><span> </span><span class="token" style="color:#FF73FD">1000</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#7C7C7C">// Convert to seconds</span><span>
</span><span>    </span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Expose metrics endpoint</span><span>
</span><span>app</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">get</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;/metrics&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#96CBFE">async</span><span> </span><span class="token" style="color:#c5c8c6">(</span><span>req</span><span class="token" style="color:#c5c8c6">,</span><span> res</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token" style="color:#EDEDED">=&gt;</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  res</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">set</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;Content-Type&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> register</span><span class="token" style="color:#c5c8c6">.</span><span>contentType</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span>  res</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">end</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#96CBFE">await</span><span> register</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">metrics</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span></code></pre>
                  </div>
                </div>
                <h3>DataDog</h3>
                <div
                  class="my-6 rounded-lg overflow-hidden shadow-lg bg-gray-900 border border-base-300 relative group"
                >
                  <div
                    class="flex items-center justify-between bg-base-300 px-4 py-2 border-b border-base-content/10"
                  >
                    <span
                      class="text-xs font-semibold text-base-content/60 uppercase"
                      >typescript</span
                    ><button
                      class="btn btn-xs btn-ghost gap-1 opacity-70 hover:opacity-100 transition-opacity"
                      title="Copy to clipboard"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                        ></path></svg
                      ><span>Copy</span>
                    </button>
                  </div>
                  <div class="overflow-x-auto">
                    <pre
                      style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:0;overflow:auto;border-radius:0.3em;background:transparent;font-size:0.875rem"
                    ><code style="white-space:pre;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace"><span class="token" style="color:#96CBFE">import</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> globalMetrics </span><span class="token" style="color:#c5c8c6">}</span><span> </span><span class="token" style="color:#96CBFE">from</span><span> </span><span class="token" style="color:#A8FF60">&#x27;@lov3kaizen/agentsea-core&#x27;</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span></span><span class="token" style="color:#96CBFE">import</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> StatsD </span><span class="token" style="color:#c5c8c6">}</span><span> </span><span class="token" style="color:#96CBFE">from</span><span> </span><span class="token" style="color:#A8FF60">&#x27;node-statsd&#x27;</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#96CBFE">const</span><span> statsd </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#96CBFE">new</span><span> </span><span class="token" style="color:#FFFFB6;text-decoration:underline">StatsD</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  host</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#A8FF60">&#x27;localhost&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  port</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#FF73FD">8125</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Forward metrics to DataDog</span><span>
</span><span>globalMetrics</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">subscribe</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">(</span><span>metric</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token" style="color:#EDEDED">=&gt;</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  </span><span class="token" style="color:#96CBFE">const</span><span> tags </span><span class="token" style="color:#EDEDED">=</span><span> Object</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">entries</span><span class="token" style="color:#c5c8c6">(</span><span>metric</span><span class="token" style="color:#c5c8c6">.</span><span>tags </span><span class="token" style="color:#EDEDED">||</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span>
</span><span>    </span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">map</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">[</span><span>key</span><span class="token" style="color:#c5c8c6">,</span><span> value</span><span class="token" style="color:#c5c8c6">]</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token" style="color:#EDEDED">=&gt;</span><span> </span><span class="token template-string template-punctuation" style="color:#A8FF60">`</span><span class="token template-string interpolation interpolation-punctuation" style="color:#c5c8c6">${</span><span class="token template-string interpolation">key</span><span class="token template-string interpolation interpolation-punctuation" style="color:#c5c8c6">}</span><span class="token template-string" style="color:#A8FF60">:</span><span class="token template-string interpolation interpolation-punctuation" style="color:#c5c8c6">${</span><span class="token template-string interpolation">value</span><span class="token template-string interpolation interpolation-punctuation" style="color:#c5c8c6">}</span><span class="token template-string template-punctuation" style="color:#A8FF60">`</span><span class="token" style="color:#c5c8c6">)</span><span>
</span><span>    </span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">join</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;,&#x27;</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span>  </span><span class="token" style="color:#96CBFE">if</span><span> </span><span class="token" style="color:#c5c8c6">(</span><span>metric</span><span class="token" style="color:#c5c8c6">.</span><span>type </span><span class="token" style="color:#EDEDED">===</span><span> </span><span class="token" style="color:#A8FF60">&#x27;counter&#x27;</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    statsd</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">increment</span><span class="token" style="color:#c5c8c6">(</span><span>metric</span><span class="token" style="color:#c5c8c6">.</span><span>name</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#FF73FD">1</span><span class="token" style="color:#c5c8c6">,</span><span> tags</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span> </span><span class="token" style="color:#96CBFE">else</span><span> </span><span class="token" style="color:#96CBFE">if</span><span> </span><span class="token" style="color:#c5c8c6">(</span><span>metric</span><span class="token" style="color:#c5c8c6">.</span><span>type </span><span class="token" style="color:#EDEDED">===</span><span> </span><span class="token" style="color:#A8FF60">&#x27;histogram&#x27;</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    statsd</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">histogram</span><span class="token" style="color:#c5c8c6">(</span><span>metric</span><span class="token" style="color:#c5c8c6">.</span><span>name</span><span class="token" style="color:#c5c8c6">,</span><span> metric</span><span class="token" style="color:#c5c8c6">.</span><span>value</span><span class="token" style="color:#c5c8c6">,</span><span> tags</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span> </span><span class="token" style="color:#96CBFE">else</span><span> </span><span class="token" style="color:#96CBFE">if</span><span> </span><span class="token" style="color:#c5c8c6">(</span><span>metric</span><span class="token" style="color:#c5c8c6">.</span><span>type </span><span class="token" style="color:#EDEDED">===</span><span> </span><span class="token" style="color:#A8FF60">&#x27;gauge&#x27;</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    statsd</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">gauge</span><span class="token" style="color:#c5c8c6">(</span><span>metric</span><span class="token" style="color:#c5c8c6">.</span><span>name</span><span class="token" style="color:#c5c8c6">,</span><span> metric</span><span class="token" style="color:#c5c8c6">.</span><span>value</span><span class="token" style="color:#c5c8c6">,</span><span> tags</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span></code></pre>
                  </div>
                </div>
                <h3>Custom Dashboard</h3>
                <div
                  class="my-6 rounded-lg overflow-hidden shadow-lg bg-gray-900 border border-base-300 relative group"
                >
                  <div
                    class="flex items-center justify-between bg-base-300 px-4 py-2 border-b border-base-content/10"
                  >
                    <span
                      class="text-xs font-semibold text-base-content/60 uppercase"
                      >typescript</span
                    ><button
                      class="btn btn-xs btn-ghost gap-1 opacity-70 hover:opacity-100 transition-opacity"
                      title="Copy to clipboard"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                        ></path></svg
                      ><span>Copy</span>
                    </button>
                  </div>
                  <div class="overflow-x-auto">
                    <pre
                      style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:0;overflow:auto;border-radius:0.3em;background:transparent;font-size:0.875rem"
                    ><code style="white-space:pre;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace"><span class="token" style="color:#96CBFE">import</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> globalMetrics</span><span class="token" style="color:#c5c8c6">,</span><span> globalTracer </span><span class="token" style="color:#c5c8c6">}</span><span> </span><span class="token" style="color:#96CBFE">from</span><span> </span><span class="token" style="color:#A8FF60">&#x27;@lov3kaizen/agentsea-core&#x27;</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Create dashboard endpoint</span><span>
</span><span>app</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">get</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;/dashboard&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">(</span><span>req</span><span class="token" style="color:#c5c8c6">,</span><span> res</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token" style="color:#EDEDED">=&gt;</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  </span><span class="token" style="color:#96CBFE">const</span><span> stats </span><span class="token" style="color:#EDEDED">=</span><span> globalMetrics</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">getStatistics</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span>  </span><span class="token" style="color:#96CBFE">const</span><span> activeTraces </span><span class="token" style="color:#EDEDED">=</span><span> globalTracer</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">getActiveTraces</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span>  res</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">json</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    metrics</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>      totalExecutions</span><span class="token" style="color:#EDEDED">:</span><span> stats</span><span class="token" style="color:#c5c8c6">[</span><span class="token" style="color:#A8FF60">&#x27;agent.executions&#x27;</span><span class="token" style="color:#c5c8c6">]</span><span class="token" style="color:#EDEDED">?.</span><span>count </span><span class="token" style="color:#EDEDED">||</span><span> </span><span class="token" style="color:#FF73FD">0</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>      averageLatency</span><span class="token" style="color:#EDEDED">:</span><span> stats</span><span class="token" style="color:#c5c8c6">[</span><span class="token" style="color:#A8FF60">&#x27;agent.latency&#x27;</span><span class="token" style="color:#c5c8c6">]</span><span class="token" style="color:#EDEDED">?.</span><span>mean </span><span class="token" style="color:#EDEDED">||</span><span> </span><span class="token" style="color:#FF73FD">0</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>      errorRate</span><span class="token" style="color:#EDEDED">:</span><span> </span><span class="token" style="color:#DAD085">calculateErrorRate</span><span class="token" style="color:#c5c8c6">(</span><span>stats</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>      tokensUsed</span><span class="token" style="color:#EDEDED">:</span><span> stats</span><span class="token" style="color:#c5c8c6">[</span><span class="token" style="color:#A8FF60">&#x27;agent.tokens&#x27;</span><span class="token" style="color:#c5c8c6">]</span><span class="token" style="color:#EDEDED">?.</span><span>sum </span><span class="token" style="color:#EDEDED">||</span><span> </span><span class="token" style="color:#FF73FD">0</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    activeTraces</span><span class="token" style="color:#EDEDED">:</span><span> activeTraces</span><span class="token" style="color:#c5c8c6">.</span><span>length</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    uptime</span><span class="token" style="color:#EDEDED">:</span><span> process</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">uptime</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span></code></pre>
                  </div>
                </div>
                <h2>Performance Monitoring</h2>
                <div
                  class="my-6 rounded-lg overflow-hidden shadow-lg bg-gray-900 border border-base-300 relative group"
                >
                  <div
                    class="flex items-center justify-between bg-base-300 px-4 py-2 border-b border-base-content/10"
                  >
                    <span
                      class="text-xs font-semibold text-base-content/60 uppercase"
                      >typescript</span
                    ><button
                      class="btn btn-xs btn-ghost gap-1 opacity-70 hover:opacity-100 transition-opacity"
                      title="Copy to clipboard"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-4 w-4"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                        ></path></svg
                      ><span>Copy</span>
                    </button>
                  </div>
                  <div class="overflow-x-auto">
                    <pre
                      style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:0;overflow:auto;border-radius:0.3em;background:transparent;font-size:0.875rem"
                    ><code style="white-space:pre;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace"><span class="token" style="color:#96CBFE">import</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span> globalMetrics </span><span class="token" style="color:#c5c8c6">}</span><span> </span><span class="token" style="color:#96CBFE">from</span><span> </span><span class="token" style="color:#A8FF60">&#x27;@lov3kaizen/agentsea-core&#x27;</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span></span><span class="token" style="color:#7C7C7C">// Monitor performance periodically</span><span>
</span><span></span><span class="token" style="color:#DAD085">setInterval</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token" style="color:#EDEDED">=&gt;</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>  </span><span class="token" style="color:#96CBFE">const</span><span> stats </span><span class="token" style="color:#EDEDED">=</span><span> globalMetrics</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">getStatistics</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span>
<span>  </span><span class="token" style="color:#7C7C7C">// Check for performance issues</span><span>
</span><span>  </span><span class="token" style="color:#96CBFE">if</span><span> </span><span class="token" style="color:#c5c8c6">(</span><span>stats</span><span class="token" style="color:#c5c8c6">[</span><span class="token" style="color:#A8FF60">&#x27;agent.latency&#x27;</span><span class="token" style="color:#c5c8c6">]</span><span class="token" style="color:#EDEDED">?.</span><span>mean </span><span class="token" style="color:#EDEDED">&gt;</span><span> </span><span class="token" style="color:#FF73FD">5000</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    logger</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">warn</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;High average latency detected&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>      averageLatency</span><span class="token" style="color:#EDEDED">:</span><span> stats</span><span class="token" style="color:#c5c8c6">[</span><span class="token" style="color:#A8FF60">&#x27;agent.latency&#x27;</span><span class="token" style="color:#c5c8c6">]</span><span class="token" style="color:#c5c8c6">.</span><span>mean</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span>
</span>
<span>  </span><span class="token" style="color:#96CBFE">const</span><span> errorRate </span><span class="token" style="color:#EDEDED">=</span><span> </span><span class="token" style="color:#DAD085">calculateErrorRate</span><span class="token" style="color:#c5c8c6">(</span><span>stats</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span>  </span><span class="token" style="color:#96CBFE">if</span><span> </span><span class="token" style="color:#c5c8c6">(</span><span>errorRate </span><span class="token" style="color:#EDEDED">&gt;</span><span> </span><span class="token" style="color:#FF73FD">0.05</span><span class="token" style="color:#c5c8c6">)</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    logger</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">error</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;High error rate detected&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>      errorRate</span><span class="token" style="color:#EDEDED">:</span><span> errorRate</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span>
</span>
<span>  </span><span class="token" style="color:#7C7C7C">// Log summary</span><span>
</span><span>  logger</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">info</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">&#x27;Performance summary&#x27;</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#c5c8c6">{</span><span>
</span><span>    executions</span><span class="token" style="color:#EDEDED">:</span><span> stats</span><span class="token" style="color:#c5c8c6">[</span><span class="token" style="color:#A8FF60">&#x27;agent.executions&#x27;</span><span class="token" style="color:#c5c8c6">]</span><span class="token" style="color:#EDEDED">?.</span><span>count</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    averageLatency</span><span class="token" style="color:#EDEDED">:</span><span> stats</span><span class="token" style="color:#c5c8c6">[</span><span class="token" style="color:#A8FF60">&#x27;agent.latency&#x27;</span><span class="token" style="color:#c5c8c6">]</span><span class="token" style="color:#EDEDED">?.</span><span>mean</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>    errorRate</span><span class="token" style="color:#EDEDED">:</span><span> errorRate</span><span class="token" style="color:#c5c8c6">,</span><span>
</span><span>  </span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span>
</span><span></span><span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">,</span><span> </span><span class="token" style="color:#FF73FD">60000</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span><span> </span><span class="token" style="color:#7C7C7C">// Every minute</span></code></pre>
                  </div>
                </div>
                <h2>Best Practices</h2>
                <ul>
                  <li>
                    <strong>Log Levels</strong>: Use appropriate log levels
                    (error for failures, info for important events, debug for
                    detailed troubleshooting)
                  </li>
                  <li>
                    <strong>Structured Logging</strong>: Include relevant
                    context in log messages (agent names, conversation IDs,
                    etc.)
                  </li>
                  <li>
                    <strong>Metric Naming</strong>: Use consistent naming
                    conventions (e.g., <code>agent.executions</code>,
                    <code>tool.calls</code>)
                  </li>
                  <li>
                    <strong>Sampling</strong>: Sample high-volume traces to
                    reduce overhead
                  </li>
                  <li>
                    <strong>Alerting</strong>: Set up alerts for critical
                    metrics (error rates, high latency)
                  </li>
                  <li>
                    <strong>Dashboards</strong>: Create dashboards to visualize
                    key metrics
                  </li>
                  <li>
                    <strong>Retention</strong>: Configure appropriate log and
                    metric retention periods
                  </li>
                </ul>
                <h2>Next Steps</h2>
                <ul>
                  <li><a href="/docs/agents/">Learn about Agents</a></li>
                  <li><a href="/docs/workflows/">Explore Workflows</a></li>
                  <li><a href="/examples/">View Observability Examples</a></li>
                </ul>
              </div>
            </div>
          </div>
          <!--$--><!--/$-->
        </main>
        <footer class="footer footer-center bg-base-200 text-base-content p-10">
          <nav class="grid grid-flow-col gap-4">
            <a class="link link-hover" href="/docs/voice/">Voice Features</a
            ><a class="link link-hover" href="/docs/local-models/"
              >Local Models</a
            ><a class="link link-hover" href="/docs/cli/">CLI Tool</a
            ><a class="link link-hover" href="/api/">REST API</a>
          </nav>
          <nav class="grid grid-flow-col gap-4">
            <a
              href="https://github.com/lovekaizen/agentsea"
              class="link link-hover"
              >GitHub</a
            ><a
              href="https://github.com/lovekaizen/agentsea/discussions"
              class="link link-hover"
              >Discussions</a
            ><a
              href="https://github.com/lovekaizen/agentsea/issues"
              class="link link-hover"
              >Issues</a
            >
          </nav>
          <aside><p>¬© 2025 AgentSea ADK. MIT License.</p></aside>
        </footer>
      </div>
      <div class="drawer-side border border-r-1 border-y-0 border-l-0">
        <label for="main-drawer" class="drawer-overlay"></label>
        <aside class="bg-base-200 min-h-full w-80">
          <ul class="menu p-4">
            <li>
              <h2 class="menu-title">Getting Started</h2>
              <ul>
                <li class="pl-2">
                  <a class="active:text-white" href="/">Home</a>
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/">Documentation</a>
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/installation/"
                    >Installation</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/quick-start/"
                    >Quick Start</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/cli/">CLI Tool</a>
                </li>
              </ul>
            </li>
            <li>
              <h2 class="menu-title">Core Concepts</h2>
              <ul>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/agents/">Agents</a>
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/providers/"
                    >Providers</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/local-providers/"
                    >Local Providers</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/tools/">Tools</a>
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/workflows/"
                    >Workflows</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/memory/">Memory</a>
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/formatting/"
                    >Content Formatting</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/conversation/"
                    >Conversation</a
                  >
                </li>
              </ul>
            </li>
            <li>
              <h2 class="menu-title">Features</h2>
              <ul>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/voice/"
                    >Voice (TTS/STT)</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/local-models/"
                    >Local Models</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/acp-integration/"
                    >ACP Commerce</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/api/"
                    >REST API &amp; Streaming</a
                  >
                </li>
              </ul>
            </li>
            <li>
              <h2 class="menu-title">MCP Integration</h2>
              <ul>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/mcp-overview/"
                    >Overview</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/mcp-servers/"
                    >MCP Servers</a
                  >
                </li>
              </ul>
            </li>
            <li>
              <h2 class="menu-title">Advanced</h2>
              <ul>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/multi-tenancy/"
                    >Multi-Tenancy</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/observability/"
                    >Observability</a
                  >
                </li>
                <li class="pl-2">
                  <a class="active:text-white" href="/docs/nestjs/"
                    >NestJS Integration</a
                  >
                </li>
              </ul>
            </li>
            <li>
              <h2 class="menu-title">Resources</h2>
              <ul>
                <li class="pl-2">
                  <a class="active:text-white" href="/examples/">Examples</a>
                </li>
              </ul>
            </li>
          </ul>
        </aside>
      </div>
    </div>
    <script
      src="/_next/static/chunks/webpack-1b7e2f9af6e0232d.js"
      id="_R_"
      async=""
    ></script>
    <script>
      (self.__next_f = self.__next_f || []).push([0]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '1:"$Sreact.fragment"\n2:I[1275,["619","static/chunks/619-ba102abea3e3d0e4.js","543","static/chunks/543-a0960cd7f2b1c22c.js","177","static/chunks/app/layout-b0f860a3d9150669.js"],"default"]\n3:I[9766,[],""]\n4:I[8924,[],""]\n25:I[7150,[],""]\n:HL["/_next/static/media/e4af272ccee01ff0-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]\n:HL["/_next/static/css/7e7d96b1e6991756.css","style"]\n:HL["/_next/static/css/1145ad3a91ffb5c9.css","style"]\n:HL["/_next/static/css/7a622664f4c377b7.css","style"]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '0:{"P":null,"b":"BR2GXXFimfBinRJoMr3YY","p":"","c":["","docs","observability",""],"i":false,"f":[[["",{"children":["docs",{"children":["observability",{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/7e7d96b1e6991756.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/1145ad3a91ffb5c9.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","2",{"rel":"stylesheet","href":"/_next/static/css/7a622664f4c377b7.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"en","data-theme":"cmyk","children":["$","body",null,{"className":"__className_f367f3","children":["$","$L2",null,{"children":["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\\"Segoe UI\\",Roboto,Helvetica,Arial,sans-serif,\\"Apple Color Emoji\\",\\"Segoe UI Emoji\\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]}]}]]}],{"children":["docs",["$","$1","c",{"children":[null,["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["observability",["$","$1","c",{"children":[null,["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":[["$","div",null,{"className":"min-h-screen bg-base-100","children":["$","div",null,{"className":"container mx-auto px-6 py-12 max-w-5xl ","children":[["$","div",null,{"className":"mb-12","children":[["$","h1",null,{"className":"text-5xl font-bold mb-4","children":"Observability"}],["$","p",null,{"className":"text-xl text-base-content/70","children":"Monitor, debug, and optimize your agentic applications with comprehensive logging, metrics, and distributed tracing."}]]}],["$","div",null,{"className":"prose max-w-none","children":[["$","h2",null,{"children":"Observability Pillars"}],["$","p",null,{"children":"AgentSea  provides three core observability features:"}],["$","div",null,{"className":"grid grid-cols-1 md:grid-cols-3 gap-4 not-prose mb-8","children":[["$","div","0",{"className":"p-4 bg-white rounded-lg border border-gray-200","children":[["$","div",null,{"className":"text-3xl mb-2","children":"üìù"}],["$","h3",null,{"className":"font-semibold text-gray-900 mb-2","children":"Logging"}],["$","p",null,{"className":"text-sm text-gray-600","children":"Structured logging with Winston for debugging and auditing"}]]}],["$","div","1",{"className":"p-4 bg-white rounded-lg border border-gray-200","children":[["$","div",null,{"className":"text-3xl mb-2","children":"üìä"}],["$","h3",null,{"className":"font-semibold text-gray-900 mb-2","children":"Metrics"}],["$","p",null,{"className":"text-sm text-gray-600","children":"Performance metrics for agents, tools, and workflows"}]]}],["$","div","2",{"className":"p-4 bg-white rounded-lg border border-gray-200","children":[["$","div",null,{"className":"text-3xl mb-2","children":"üîç"}],["$","h3",null,{"className":"font-semibold text-gray-900 mb-2","children":"Tracing"}],["$","p",null,{"className":"text-sm text-gray-600","children":"Distributed tracing to understand execution flow"}]]}]]}],"$L5","$L6","$L7","$L8","$L9","$La","$Lb","$Lc","$Ld","$Le","$Lf","$L10","$L11","$L12","$L13","$L14","$L15","$L16","$L17","$L18","$L19","$L1a","$L1b","$L1c","$L1d","$L1e","$L1f","$L20","$L21","$L22"]}]]}]}],null,"$L23"]}],{},null,false]},null,false]},null,false]},null,false],"$L24",false]],"m":"$undefined","G":["$25",[]],"s":false,"S":true}\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '26:I[8467,["619","static/chunks/619-ba102abea3e3d0e4.js","501","static/chunks/501-26489c9c153fdafc.js","306","static/chunks/app/docs/observability/page-1661e6a98b49e8b6.js"],"CodeBlock"]\n29:I[2619,["619","static/chunks/619-ba102abea3e3d0e4.js","501","static/chunks/501-26489c9c153fdafc.js","306","static/chunks/app/docs/observability/page-1661e6a98b49e8b6.js"],""]\n2a:I[4431,[],"OutletBoundary"]\n2c:I[5278,[],"AsyncMetadataOutlet"]\n2e:I[4431,[],"ViewportBoundary"]\n30:I[4431,[],"MetadataBoundary"]\n31:"$Sreact.suspense"\n5:["$","h2",null,{"children":"Logging"}]\n6:["$","p",null,{"children":"Structured logging powered by Winston with JSON and simple formats:"}]\n7:["$","$L26",null,{"language":"typescript","children":"import { Logger } from \'@lov3kaizen/agentsea-core\';\\n\\n// Create logger\\nconst logger = new Logger({\\n  level: \'info\', // \'error\', \'warn\', \'info\', \'debug\'\\n  format: \'json\', // or \'simple\'\\n  filename: \'./logs/app.log\', // Optional file output\\n});\\n\\n// Log messages\\nlogger.error(\'Failed to connect\', { error: err.message });\\nlogger.warn(\'Rate limit approaching\', { usage: 95 });\\nlogger.info(\'Agent executed successfully\', { agentName: \'chat-agent\' });\\nlogger.debug(\'Tool called\', { toolName: \'calculator\', input: { a: 1, b: 2 } });"}]\n8:["$","h3",null,{"children":"Logging Agent Execution"}]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '9:["$","$L26",null,{"language":"typescript","children":"import { Agent, Logger } from \'@lov3kaizen/agentsea-core\';\\n\\nconst logger = new Logger({ level: \'info\' });\\n\\n// Enable agent logging\\nconst agent = new Agent(config, provider, toolRegistry, memory);\\n\\ntry {\\n  logger.info(\'Agent execution started\', {\\n    agentName: agent.name,\\n    conversationId: context.conversationId,\\n  });\\n\\n  const response = await agent.execute(prompt, context);\\n\\n  logger.info(\'Agent execution completed\', {\\n    agentName: agent.name,\\n    tokensUsed: response.metadata.tokensUsed,\\n    toolsCalled: response.toolCalls.length,\\n  });\\n\\n  return response;\\n} catch (error) {\\n  logger.error(\'Agent execution failed\', {\\n    agentName: agent.name,\\n    error: error.message,\\n    stack: error.stack,\\n  });\\n  throw error;\\n}"}]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        'a:["$","h2",null,{"children":"Metrics"}]\nb:["$","p",null,{"children":"Track performance metrics for agents, tools, and workflows:"}]\nc:["$","$L26",null,{"language":"typescript","children":"import { Metrics, globalMetrics } from \'@lov3kaizen/agentsea-core\';\\n\\n// Use global metrics instance\\nconst metrics = globalMetrics;\\n\\n// Record metrics\\nmetrics.recordCounter(\'agent.executions\', 1, {\\n  agentName: \'chat-agent\',\\n  status: \'success\',\\n});\\n\\nmetrics.recordHistogram(\'agent.latency\', 1250, {\\n  agentName: \'chat-agent\',\\n});\\n\\nmetrics.recordGauge(\'agent.active_conversations\', 42);\\n\\n// Get statistics\\nconst stats = metrics.getStatistics();\\nconsole.log(stats);\\n// {\\n// \'agent.executions\': { count: 100, sum: 100, ... },\\n// \'agent.latency\': { count: 100, min: 200, max: 3000, mean: 1250, ... }\\n// }"}]\nd:["$","h3",null,{"children":"Automated Agent Metrics"}]\n27:T415,',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        "import { Agent, globalMetrics } from '@lov3kaizen/agentsea-core';\n\nconst agent = new Agent(config, provider, toolRegistry, memory);\n\n// Wrap execution with metrics\nasync function executeWithMetrics(prompt: string, context: any) {\n  const startTime = Date.now();\n\n  try {\n    const response = await agent.execute(prompt, context);\n\n    // Record success metrics\n    globalMetrics.recordCounter('agent.executions', 1, {\n      agentName: agent.name,\n      status: 'success',\n    });\n\n    globalMetrics.recordHistogram('agent.latency', Date.now() - startTime, {\n      agentName: agent.name,\n    });\n\n    globalMetrics.recordHistogram('agent.tokens', response.metadata.tokensUsed, {\n      agentName: agent.name,\n    });\n\n    return response;\n  } catch (error) {\n    // Record error metrics\n    globalMetrics.recordCounter('agent.executions', 1, {\n      agentName: agent.name,\n      status: 'error',\n    });\n\n    globalMetrics.recordCounter('agent.errors', 1, {\n      agentName: agent.name,\n      errorType: error.constructor.name,\n    });\n\n    throw error;\n  }\n}",
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        'e:["$","$L26",null,{"language":"typescript","children":"$27"}]\nf:["$","h3",null,{"children":"Subscribing to Metrics"}]\n10:["$","$L26",null,{"language":"typescript","children":"import { globalMetrics } from \'@lov3kaizen/agentsea-core\';\\n\\n// Subscribe to metric updates\\nglobalMetrics.subscribe((metric) =\u003e {\\n  console.log(`Metric recorded: ${metric.name} = ${metric.value}`);\\n\\n  // Send to monitoring service\\n  if (metric.name === \'agent.latency\' \u0026\u0026 metric.value \u003e 5000) {\\n    alertHighLatency(metric);\\n  }\\n});"}]\n11:["$","h2",null,{"children":"Distributed Tracing"}]\n12:["$","p",null,{"children":"Track execution flow across agents, tools, and workflows:"}]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        "13:[\"$\",\"$L26\",null,{\"language\":\"typescript\",\"children\":\"import { Tracer, globalTracer } from '@lov3kaizen/agentsea-core';\\n\\nconst tracer = globalTracer;\\n\\n// Create trace\\nconst trace = tracer.createTrace('user-request', {\\n  userId: '12345',\\n  operation: 'chat',\\n});\\n\\n// Create spans for each operation\\nconst agentSpan = trace.createSpan('agent-execution', {\\n  agentName: 'chat-agent',\\n});\\n\\ntry {\\n  const response = await agent.execute(prompt, context);\\n\\n  // Create nested span for tool execution\\n  const toolSpan = agentSpan.createSpan('tool-call', {\\n    toolName: 'calculator',\\n  });\\n\\n  const result = await executeTool('calculator', { a: 1, b: 2 });\\n  toolSpan.end();\\n\\n  agentSpan.end();\\n\\n  // Get trace information\\n  const duration = trace.getDuration();\\n  const spans = trace.getSpans();\\n  console.log(`Total duration: ${duration}ms, Spans: ${spans.length}`);\\n} catch (error) {\\n  agentSpan.end();\\n  throw error;\\n}\"}]\n",
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '14:["$","h3",null,{"children":"Automatic Tracing"}]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '15:["$","$L26",null,{"language":"typescript","children":"import { Agent, globalTracer } from \'@lov3kaizen/agentsea-core\';\\n\\n// Wrap agent with automatic tracing\\nfunction createTracedAgent(config, provider, toolRegistry, memory) {\\n  const agent = new Agent(config, provider, toolRegistry, memory);\\n\\n  // Override execute method\\n  const originalExecute = agent.execute.bind(agent);\\n\\n  agent.execute = async (prompt, context) =\u003e {\\n    const trace = globalTracer.createTrace(`agent:${agent.name}`, {\\n      conversationId: context.conversationId,\\n    });\\n\\n    const span = trace.createSpan(\'agent-execution\', {\\n      agentName: agent.name,\\n      prompt: prompt.substring(0, 100),\\n    });\\n\\n    try {\\n      const response = await originalExecute(prompt, context);\\n      span.end();\\n      return response;\\n    } catch (error) {\\n      span.end();\\n      throw error;\\n    }\\n  };\\n\\n  return agent;\\n}\\n\\nconst tracedAgent = createTracedAgent(config, provider, toolRegistry, memory);"}]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '16:["$","h2",null,{"children":"Integration with Monitoring Services"}]\n17:["$","h3",null,{"children":"Prometheus"}]\n28:T41c,',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        "import { globalMetrics } from '@lov3kaizen/agentsea-core';\nimport { register, Counter, Histogram } from 'prom-client';\n\n// Create Prometheus metrics\nconst agentExecutions = new Counter({\n  name: 'agent_executions_total',\n  help: 'Total agent executions',\n  labelNames: ['agent_name', 'status'],\n});\n\nconst agentLatency = new Histogram({\n  name: 'agent_latency_seconds',\n  help: 'Agent execution latency',\n  labelNames: ['agent_name'],\n  buckets: [0.1, 0.5, 1, 2, 5],\n});\n\n// Subscribe to AgentSea  metrics and forward to Prometheus\nglobalMetrics.subscribe((metric) =\u003e {\n  if (metric.name === 'agent.executions') {\n    agentExecutions.inc({\n      agent_name: metric.tags.agentName,\n      status: metric.tags.status,\n    });\n  } else if (metric.name === 'agent.latency') {\n    agentLatency.observe(\n      { agent_name: metric.tags.agentName },\n      metric.value / 1000, // Convert to seconds\n    );\n  }\n});\n\n// Expose metrics endpoint\napp.get('/metrics', async (req, res) =\u003e {\n  res.set('Content-Type', register.contentType);\n  res.end(await register.metrics());\n});",
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '18:["$","$L26",null,{"language":"typescript","children":"$28"}]\n19:["$","h3",null,{"children":"DataDog"}]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        "1a:[\"$\",\"$L26\",null,{\"language\":\"typescript\",\"children\":\"import { globalMetrics } from '@lov3kaizen/agentsea-core';\\nimport { StatsD } from 'node-statsd';\\n\\nconst statsd = new StatsD({\\n  host: 'localhost',\\n  port: 8125,\\n});\\n\\n// Forward metrics to DataDog\\nglobalMetrics.subscribe((metric) =\u003e {\\n  const tags = Object.entries(metric.tags || {})\\n    .map(([key, value]) =\u003e `${key}:${value}`)\\n    .join(',');\\n\\n  if (metric.type === 'counter') {\\n    statsd.increment(metric.name, 1, tags);\\n  } else if (metric.type === 'histogram') {\\n    statsd.histogram(metric.name, metric.value, tags);\\n  } else if (metric.type === 'gauge') {\\n    statsd.gauge(metric.name, metric.value, tags);\\n  }\\n});\"}]\n",
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '1b:["$","h3",null,{"children":"Custom Dashboard"}]\n1c:["$","$L26",null,{"language":"typescript","children":"import { globalMetrics, globalTracer } from \'@lov3kaizen/agentsea-core\';\\n\\n// Create dashboard endpoint\\napp.get(\'/dashboard\', (req, res) =\u003e {\\n  const stats = globalMetrics.getStatistics();\\n  const activeTraces = globalTracer.getActiveTraces();\\n\\n  res.json({\\n    metrics: {\\n      totalExecutions: stats[\'agent.executions\']?.count || 0,\\n      averageLatency: stats[\'agent.latency\']?.mean || 0,\\n      errorRate: calculateErrorRate(stats),\\n      tokensUsed: stats[\'agent.tokens\']?.sum || 0,\\n    },\\n    activeTraces: activeTraces.length,\\n    uptime: process.uptime(),\\n  });\\n});"}]\n1d:["$","h2",null,{"children":"Performance Monitoring"}]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        "1e:[\"$\",\"$L26\",null,{\"language\":\"typescript\",\"children\":\"import { globalMetrics } from '@lov3kaizen/agentsea-core';\\n\\n// Monitor performance periodically\\nsetInterval(() =\u003e {\\n  const stats = globalMetrics.getStatistics();\\n\\n  // Check for performance issues\\n  if (stats['agent.latency']?.mean \u003e 5000) {\\n    logger.warn('High average latency detected', {\\n      averageLatency: stats['agent.latency'].mean,\\n    });\\n  }\\n\\n  const errorRate = calculateErrorRate(stats);\\n  if (errorRate \u003e 0.05) {\\n    logger.error('High error rate detected', {\\n      errorRate: errorRate,\\n    });\\n  }\\n\\n  // Log summary\\n  logger.info('Performance summary', {\\n    executions: stats['agent.executions']?.count,\\n    averageLatency: stats['agent.latency']?.mean,\\n    errorRate: errorRate,\\n  });\\n}, 60000); // Every minute\"}]\n",
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '1f:["$","h2",null,{"children":"Best Practices"}]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '20:["$","ul",null,{"children":[["$","li",null,{"children":[["$","strong",null,{"children":"Log Levels"}],": Use appropriate log levels (error for failures, info for important events, debug for detailed troubleshooting)"]}],["$","li",null,{"children":[["$","strong",null,{"children":"Structured Logging"}],": Include relevant context in log messages (agent names, conversation IDs, etc.)"]}],["$","li",null,{"children":[["$","strong",null,{"children":"Metric Naming"}],": Use consistent naming conventions (e.g., ",["$","code",null,{"children":"agent.executions"}],", ",["$","code",null,{"children":"tool.calls"}],")"]}],["$","li",null,{"children":[["$","strong",null,{"children":"Sampling"}],": Sample high-volume traces to reduce overhead"]}],["$","li",null,{"children":[["$","strong",null,{"children":"Alerting"}],": Set up alerts for critical metrics (error rates, high latency)"]}],["$","li",null,{"children":[["$","strong",null,{"children":"Dashboards"}],": Create dashboards to visualize key metrics"]}],["$","li",null,{"children":[["$","strong",null,{"children":"Retention"}],": Configure appropriate log and metric retention periods"]}]]}]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '21:["$","h2",null,{"children":"Next Steps"}]\n22:["$","ul",null,{"children":[["$","li",null,{"children":["$","$L29",null,{"href":"/docs/agents","children":"Learn about Agents"}]}],["$","li",null,{"children":["$","$L29",null,{"href":"/docs/workflows","children":"Explore Workflows"}]}],["$","li",null,{"children":["$","$L29",null,{"href":"/examples","children":"View Observability Examples"}]}]]}]\n23:["$","$L2a",null,{"children":["$L2b",["$","$L2c",null,{"promise":"$@2d"}]]}]\n24:["$","$1","h",{"children":[null,[["$","$L2e",null,{"children":"$L2f"}],["$","meta",null,{"name":"next-size-adjust","content":""}]],["$","$L30",null,{"children":["$","div",null,{"hidden":true,"children":["$","$31",null,{"fallback":null,"children":"$L32"}]}]}]]}]\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '2f:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]\n2b:null\n',
      ]);
    </script>
    <script>
      self.__next_f.push([
        1,
        '2d:{"metadata":[["$","title","0",{"children":"AgentSea - Unite and Orchestrate AI Agents"}],["$","meta","1",{"name":"description","content":"Build powerful agentic AI applications with AgentSea. Unite AI agents and services with multi-provider support, workflow orchestration, MCP protocol, and enterprise-grade observability."}]],"error":null,"digest":"$undefined"}\n',
      ]);
    </script>
    <script>
      self.__next_f.push([1, '32:"$2d:metadata"\n']);
    </script>
  </body>
</html>
